{"ast":null,"code":"var _jsxFileName = \"D:\\\\Coding\\\\Quiz Generator Project\\\\Client\\\\online-quiz-system\\\\src\\\\components\\\\question-edit-modal\\\\QuestionEditModal.jsx\",\n    _s = $RefreshSig$();\n\nimport \"./question-edit-modal.css\";\nimport { React, useState, useEffect, useRef } from 'react';\nimport { Form, Button, Modal, Row, Col } from \"react-bootstrap\";\nimport { Cancel, PermMedia } from \"@material-ui/icons\";\nimport storage from './../../firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction QuestionEditModal(props) {\n  _s();\n\n  const [question, setQuestion] = useState(\"\");\n  const [questionType, setQuestionType] = useState(0);\n  const [numberOfChoices, setNumberOfChoices] = useState(0);\n  const [numberOfChoicesError, setNumberOfChoicesError] = useState(\"\");\n  const [keys, setKeys] = useState([]);\n  const [keyCorrects, setKeyCorrects] = useState([]);\n  const [keyImages, setKeyImages] = useState([]);\n  const [keyImageUrl, setKeyImageUrl] = useState([]);\n  const [explain, setExplain] = useState(\"\");\n  const [file, setFile] = useState(null);\n  const [url, setURL] = useState(\"\"); //This only be used in case of passing a Firebase URL from QuizCreate\n\n  const [time, setTime] = useState(\"\");\n  const [point, setPoint] = useState(\"\");\n  const [validateError, setValidateError] = useState(\"\");\n  const keyImageURLs = useRef();\n  const imageURL = useRef();\n\n  const check = () => {\n    //Count target\n    let getCount = 0;\n\n    for (let i = 0; i < keyImages.length; i++) {\n      if (keyImages[i]) getCount++;\n    }\n\n    if (file) getCount++;\n    let count = 0;\n\n    if (imageURL.current !== \"\" && file) {\n      count++;\n    }\n\n    for (let i = 0; i < keyImageURLs.current.length; i++) {\n      if (keyImageURLs.current[i] !== \"\") {\n        count++;\n      }\n    }\n\n    if (count === getCount && getCount > 0) {\n      callParentSubmit();\n    }\n  };\n\n  const handleQuestionTypeChange = type => {\n    setQuestionType(type);\n\n    if (type === 1) {\n      setNumberOfChoices(1);\n      setNumberOfChoicesError(\"\");\n      setKeyCorrects([true]);\n      setKeys([\"\"]);\n      setKeyImages([\"\"]);\n      setKeyImageUrl([\"\"]);\n      keyImageURLs.current = [\"\"];\n    } else {\n      setNumberOfChoices(0);\n      setKeyCorrects([]);\n      setKeys([]);\n      setKeyImages([]);\n      setKeyImageUrl([]);\n      keyImageURLs.current = [];\n    }\n  };\n\n  const handleChoicesCountChange = count => {\n    if (count < 2 || count > 5) {\n      setNumberOfChoicesError(\"Số lượng phương án phải từ 2 đến 5.\");\n    } else {\n      setNumberOfChoices(count);\n      setNumberOfChoicesError(\"\");\n      let tmpKeysArr = [];\n      let tmpKeysCorrectArr = [];\n      let tmpKeyImages = [];\n      let tmpKeyImagesURLs = [];\n\n      for (let i = 0; i < count; i++) {\n        tmpKeysArr.push(\"\");\n        tmpKeysCorrectArr.push(false);\n        tmpKeyImages.push(null);\n        tmpKeyImagesURLs.push(\"\");\n      }\n\n      setKeyCorrects(tmpKeysCorrectArr);\n      setKeys(tmpKeysArr);\n      setKeyImages(tmpKeyImages);\n      setKeyImageUrl(tmpKeyImagesURLs);\n      keyImageURLs.current = tmpKeyImagesURLs;\n    }\n  };\n\n  const handleCorrectKeyChange = index => {\n    let getKeyCorrectArr = [];\n\n    for (let i = 0; i < keyCorrects.length; i++) {\n      getKeyCorrectArr.push(false);\n    }\n\n    let item = getKeyCorrectArr[index];\n    getKeyCorrectArr[index] = !item;\n    setKeyCorrects(getKeyCorrectArr);\n  };\n\n  const handleKeyChange = (index, value) => {\n    let emptyArr = [];\n\n    for (let i = 0; i < keys.length; i++) {\n      if (i === index) {\n        emptyArr.push(value);\n      } else {\n        emptyArr.push(keys[i]);\n      }\n    }\n\n    setKeys(emptyArr);\n  };\n\n  const handleKeyImage = (index, file) => {\n    let emptyArr = [];\n\n    for (let i = 0; i < keyImages.length; i++) {\n      if (i === index) {\n        emptyArr.push(file);\n      } else {\n        emptyArr.push(keyImages[i]);\n      }\n    }\n\n    setKeyImages(emptyArr);\n  };\n\n  const setImageNull = i => {\n    let emptyArr = [...keyImages];\n    emptyArr[i] = null;\n    let emptyArr1 = [...keyImageUrl];\n    emptyArr1[i] = \"\";\n    setKeyImages(emptyArr);\n    setKeyImageUrl(emptyArr1);\n  };\n\n  const prepareFormSubmit = async e => {\n    e.preventDefault(); //Validate info\n\n    if (question === \"\") {\n      setValidateError(\"Vui lòng nhập nội dung câu hỏi.\");\n      return;\n    } else if (keys.length === 0) {\n      setValidateError(\"Vui lòng nhập đáp án cho câu hỏi.\");\n      return;\n    } else if (keys.length !== 1) {\n      if (!keyCorrects.includes(true)) {\n        setValidateError(\"Vui lòng chọn 1 đáp án đúng.\");\n        return;\n      }\n\n      for (let i = 0; i < keys.length; i++) {\n        if (keys[i] === \"\" && !keyImages[i]) {\n          setValidateError(\"Phương án không hợp lệ.\");\n          return;\n        }\n      }\n    } else if (!props.useQuizTime && isNaN(parseInt(time))) {\n      setValidateError(\"Thời gian trả lời không hợp lệ.\");\n      return;\n    } else if (isNaN(parseInt(point))) {\n      setValidateError(\"Điểm số câu không hợp lệ.\");\n      return;\n    }\n\n    let getCount = 0;\n\n    for (let i = 0; i < keyImages.length; i++) {\n      if (keyImages[i]) getCount++;\n    }\n\n    if (file) getCount++; //Upload to firebase and retrieve URL \n\n    if (getCount != 0) {\n      let fileName = file.name + \"-\" + Date.now(); //questions_images\n\n      storage.ref(`questions_images/${fileName}`).put(file).on(\"state_changed\", snapshot => {}, error => {\n        console.log(error);\n      }, () => {\n        storage.ref(`questions_images/`).child(`${fileName}`).getDownloadURL().then(url => {\n          imageURL.current = url;\n          check();\n        }, error => {\n          console.log(error);\n        });\n      });\n\n      for (let i = 0; i < keyImages.length; i++) {\n        if (keyImages[i]) {\n          let keyFileName = keyImages[i].name + \"-\" + Date.now(); //questions_images\n\n          storage.ref(`questions_images/${keyFileName}`).put(keyImages[i]).on(\"state_changed\", snapshot => {}, error => {\n            console.log(error);\n          }, () => {\n            storage.ref(`questions_images/`).child(`${keyFileName}`).getDownloadURL().then(url => {\n              setImageURL(i, url);\n            }, error => {\n              console.log(error);\n            });\n          });\n        }\n      }\n    } else {\n      callParentSubmit();\n    }\n  };\n\n  const setImageURL = (index, path) => {\n    // let arrays = [...keyImagesURLs];\n    // arrays[index] = path;\n    // setKeyImagesURLs(arrays);\n    let getArray = keyImageURLs.current;\n    getArray[index] = path;\n    keyImageURLs.current = getArray;\n    check();\n  };\n\n  const callParentSubmit = image => {\n    let output = {};\n    output[\"question\"] = question;\n    output[\"questionType\"] = questionType;\n    output[\"numberOfChoices\"] = numberOfChoices;\n    output[\"keys\"] = keys;\n    output[\"keyCorrects\"] = keyCorrects;\n    output[\"explain\"] = explain;\n    output[\"time\"] = time === \"\" ? 0 : parseInt(time);\n    output[\"point\"] = point;\n    output[\"image\"] = imageURL.current;\n    output[\"keyImages\"] = keyImageURLs.current;\n    output[\"questIndex\"] = props.questionEditGet[\"questIndex\"]; //Refresh\n\n    setValidateError(\"\");\n    setQuestion(\"\");\n    setQuestionType(0);\n    setNumberOfChoicesError(\"\");\n    setNumberOfChoices(0);\n    setKeys([]);\n    setKeyCorrects([]);\n    setExplain(\"\");\n    setFile(null);\n    setTime(\"\");\n    setPoint(\"\");\n    keyImageURLs.current = [];\n    imageURL.current = \"\";\n    setKeyImages([]);\n    setKeyImageUrl([]);\n    props.onAddQuestionSubmit(output);\n  };\n\n  useEffect(() => {\n    if (props.questionEditGet) {\n      setQuestion(props.questionEditGet[\"question\"]);\n      setQuestionType(props.questionEditGet[\"questionType\"]);\n      setNumberOfChoices(props.questionEditGet[\"keys\"].length);\n      setKeys(props.questionEditGet[\"keys\"]);\n      setKeyCorrects(props.questionEditGet[\"keyCorrects\"]);\n      setTime(props.questionEditGet[\"time\"]);\n      setExplain(props.questionEditGet[\"explain\"]);\n      setURL(props.questionEditGet[\"image\"]);\n      keyImageURLs.current = [];\n      imageURL.current = \"\";\n      setKeyImageUrl(props.questionEditGet[\"keyImages\"]);\n      setTimeout(() => {\n        console.log(props.questionEditGet);\n      }, 500);\n    }\n  }, [props.questionEditGet]);\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    size: \"lg\",\n    \"aria-labelledby\": \"contained-modal-title-vcenter\",\n    centered: true,\n    ...props,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        id: \"contained-modal-title-vcenter\",\n        children: [\"S\\u1EEDa c\\xE2u h\\u1ECFi (c\\xE2u \", props.questionEditGet ? props.questionEditGet[\"questIndex\"] + 1 : \"\", \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: 10,\n          sm: 12,\n          className: \"offset-md-1 offset-sm-0\",\n          children: [/*#__PURE__*/_jsxDEV(Form, {\n            id: \"questionAddForm\",\n            onSubmit: prepareFormSubmit,\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"\",\n              controlId: \"formBasicEmail\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"C\\xE2u h\\u1ECFi\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                as: \"textarea\",\n                required: true,\n                validate: \"Quiz name is not valid!\",\n                value: question,\n                onChange: e => setQuestion(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"\",\n              children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  as: Row,\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    as: \"legend\",\n                    column: true,\n                    sm: 2,\n                    children: \"Lo\\u1EA1i:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    sm: 12,\n                    children: [/*#__PURE__*/_jsxDEV(Form.Check, {\n                      type: \"radio\",\n                      label: \"Tr\\u1EAFc nghi\\u1EC7m\",\n                      name: \"question-type\",\n                      checked: questionType === 0,\n                      onChange: () => handleQuestionTypeChange(0)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 317,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Check, {\n                      type: \"radio\",\n                      label: \"Tr\\u1EA3 l\\u1EDDi ng\\u1EAFn\",\n                      name: \"question-type\",\n                      checked: questionType === 1,\n                      onChange: () => handleQuestionTypeChange(1)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 324,\n                      columnNumber: 38\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 29\n            }, this), questionType === 0 && /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"\",\n              controlId: \"formBasicEmail\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"S\\u1ED1 ph\\u01B0\\u01A1ng \\xE1n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"number\",\n                validate: \"Ph\\u1EA3i l\\xE0 gi\\xE1 tr\\u1ECB t\\u1EEB 2 \\u0111\\u1EBFn 5\",\n                min: 2,\n                max: 5,\n                value: numberOfChoices,\n                onChange: e => handleChoicesCountChange(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"error\",\n                children: numberOfChoicesError\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 34\n            }, this), numberOfChoicesError === \"\" && questionType === 0 && [...Array(parseInt(numberOfChoices))].map((x, i) => {\n              let getClassName = `question-${numberOfChoices}-answer`;\n              let idImageName = `file-${i}`;\n              return /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mt-2\",\n                controlId: \"formBasicEmail\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: [\"Ph\\u01B0\\u01A1ng \\xE1n \", i + 1, /*#__PURE__*/_jsxDEV(Form.Check, {\n                    type: \"radio\",\n                    label: \"\\u0110\\xFAng\",\n                    name: getClassName,\n                    checked: keyCorrects[i],\n                    onChange: () => handleCorrectKeyChange(i)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  required: true,\n                  validate: \"Kh\\xF4ng h\\u1EE3p l\\u1EC7!\",\n                  minLength: 1,\n                  value: keys[i],\n                  onChange: e => handleKeyChange(i, e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"formFileSm\",\n                  className: \"mb-3 mt-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"\\u1EA2nh ph\\u01B0\\u01A1ng \\xE1n (n\\u1EBFu c\\xF3)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 367,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 367,\n                    columnNumber: 96\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: idImageName,\n                    className: \"shareOption\",\n                    style: {\n                      cursor: \"pointer\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(PermMedia, {\n                      htmlColor: \"green\",\n                      className: \"shareIcon\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 369,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      style: {\n                        display: \"none\"\n                      },\n                      type: \"file\",\n                      id: idImageName,\n                      accept: \".png, .jpeg, .jpg\",\n                      size: \"sm\",\n                      onChange: e => handleKeyImage(i, e.target.files[0])\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 370,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 368,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 45\n                }, this), (keyImages[i] || keyImageUrl[i] !== \"\") && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"keyImgContainer\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"shareImg\",\n                    src: keyImages[i] && URL.createObjectURL(keyImages[i]) || keyImageUrl[i] !== \"\",\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 374,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(Cancel, {\n                    className: \"shareCancelImg\",\n                    onClick: () => setImageNull(i)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 89\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 41\n              }, this);\n            }) || questionType === 1 && /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"\",\n              controlId: \"formBasicEmail\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"\\u0110\\xE1p \\xE1n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                required: true,\n                validate: \"\\u0110\\xE1p \\xE1n kh\\xF4ng h\\u1EE3p l\\u1EC7!\",\n                minLength: 1,\n                value: keys[0],\n                onChange: e => handleKeyChange(0, e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mt-2\",\n              controlId: \"formBasicEmail\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Gi\\u1EA3i th\\xEDch (n\\u1EBFu c\\xF3)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                as: \"textarea\",\n                validate: \"Kh\\xF4ng h\\u1EE3p l\\u1EC7!\",\n                value: explain,\n                onChange: e => setExplain(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mt-2\",\n              controlId: \"formBasicEmail\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"\\u0110i\\u1EC3m s\\u1ED1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                validate: \"Kh\\xF4ng h\\u1EE3p l\\u1EC7!\",\n                value: point,\n                type: \"number\",\n                min: 0,\n                onChange: e => setPoint(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 29\n            }, this), !props.useQuizTime && /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formFileSm\",\n              className: \"mb-3 mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Th\\u1EDDi gian tr\\u1EA3 l\\u1EDDi (gi\\xE2y): \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 84\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"number\",\n                min: 1,\n                value: time,\n                onChange: e => setTime(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 52\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formFileSm\",\n              className: \"mb-3 mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"\\u1EA2nh (n\\u1EBFu c\\xF3)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 70\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"file\",\n                className: \"shareOption\",\n                style: {\n                  cursor: \"pointer\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(PermMedia, {\n                  htmlColor: \"green\",\n                  className: \"shareIcon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  style: {\n                    display: \"none\"\n                  },\n                  type: \"file\",\n                  id: \"file\",\n                  accept: \".png, .jpeg, .jpg\",\n                  size: \"sm\",\n                  onChange: e => setFile(e.target.files[0])\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 25\n          }, this), (file || url !== \"\") && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shareImgContainer\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"shareImg\",\n              src: file && URL.createObjectURL(file) || url,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Cancel, {\n              className: \"shareCancelImg\",\n              onClick: () => {\n                setFile(null);\n                setURL(null);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 54\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: validateError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"warning\",\n        type: \"submit\",\n        form: \"questionAddForm\",\n        children: \"S\\u1EEDa\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 289,\n    columnNumber: 9\n  }, this);\n}\n\n_s(QuestionEditModal, \"UzLJKmRyrPlCNO1KDJuYeeBXC9k=\");\n\n_c = QuestionEditModal;\nexport default QuestionEditModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"QuestionEditModal\");","map":{"version":3,"sources":["D:/Coding/Quiz Generator Project/Client/online-quiz-system/src/components/question-edit-modal/QuestionEditModal.jsx"],"names":["React","useState","useEffect","useRef","Form","Button","Modal","Row","Col","Cancel","PermMedia","storage","QuestionEditModal","props","question","setQuestion","questionType","setQuestionType","numberOfChoices","setNumberOfChoices","numberOfChoicesError","setNumberOfChoicesError","keys","setKeys","keyCorrects","setKeyCorrects","keyImages","setKeyImages","keyImageUrl","setKeyImageUrl","explain","setExplain","file","setFile","url","setURL","time","setTime","point","setPoint","validateError","setValidateError","keyImageURLs","imageURL","check","getCount","i","length","count","current","callParentSubmit","handleQuestionTypeChange","type","handleChoicesCountChange","tmpKeysArr","tmpKeysCorrectArr","tmpKeyImages","tmpKeyImagesURLs","push","handleCorrectKeyChange","index","getKeyCorrectArr","item","handleKeyChange","value","emptyArr","handleKeyImage","setImageNull","emptyArr1","prepareFormSubmit","e","preventDefault","includes","useQuizTime","isNaN","parseInt","fileName","name","Date","now","ref","put","on","snapshot","error","console","log","child","getDownloadURL","then","keyFileName","setImageURL","path","getArray","image","output","questionEditGet","onAddQuestionSubmit","setTimeout","target","Array","map","x","getClassName","idImageName","cursor","display","files","URL","createObjectURL"],"mappings":"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","sourcesContent":["import \"./question-edit-modal.css\";\r\nimport {React, useState, useEffect, useRef} from 'react'\r\nimport {Form, Button, Modal, Row, Col} from \"react-bootstrap\";\r\nimport {Cancel, PermMedia} from \"@material-ui/icons\"\r\nimport storage from './../../firebase';\r\n\r\nfunction QuestionEditModal(props) {\r\n    const [question, setQuestion] = useState(\"\");\r\n    const [questionType, setQuestionType] = useState(0);\r\n    const [numberOfChoices, setNumberOfChoices] = useState(0);\r\n    const [numberOfChoicesError, setNumberOfChoicesError] = useState(\"\");\r\n    const [keys, setKeys] = useState([]);\r\n    const [keyCorrects, setKeyCorrects] = useState([]);\r\n    const [keyImages, setKeyImages] = useState([]);\r\n    const [keyImageUrl, setKeyImageUrl] = useState([]);\r\n    const [explain, setExplain] = useState(\"\");\r\n    const [file, setFile] = useState(null);\r\n    const [url, setURL] = useState(\"\"); //This only be used in case of passing a Firebase URL from QuizCreate\r\n    const [time, setTime] = useState(\"\");\r\n    const [point, setPoint] = useState(\"\");\r\n    const [validateError, setValidateError] = useState(\"\");\r\n    const keyImageURLs = useRef();\r\n    const imageURL = useRef(); \r\n\r\n    const check = () => {\r\n        //Count target\r\n        let getCount = 0;\r\n        for (let i = 0; i < keyImages.length; i++) {\r\n            if (keyImages[i])\r\n                getCount++;\r\n        }\r\n        if (file)\r\n            getCount++;\r\n\r\n        let count = 0;\r\n        if (imageURL.current !== \"\" && file)\r\n        {\r\n            count++;\r\n        }\r\n        for (let i = 0; i < keyImageURLs.current.length; i++) {\r\n            if (keyImageURLs.current[i] !== \"\")\r\n            {\r\n                count++;\r\n            }\r\n        }\r\n\r\n        if (count === getCount && getCount > 0) {\r\n            callParentSubmit();\r\n        }\r\n    }\r\n\r\n    const handleQuestionTypeChange = (type) => {\r\n        setQuestionType(type);\r\n        if (type === 1) \r\n        {\r\n            setNumberOfChoices(1);\r\n            setNumberOfChoicesError(\"\");\r\n            setKeyCorrects([true]);\r\n            setKeys([\"\"]);\r\n            setKeyImages([\"\"]);\r\n            setKeyImageUrl([\"\"]);\r\n            keyImageURLs.current = [\"\"];\r\n        } else {\r\n            setNumberOfChoices(0);\r\n            setKeyCorrects([]);\r\n            setKeys([]);\r\n            setKeyImages([]);\r\n            setKeyImageUrl([]);\r\n            keyImageURLs.current = [];\r\n        }\r\n    }\r\n\r\n    const handleChoicesCountChange = (count) => {\r\n        if (count < 2 || count > 5) {\r\n            setNumberOfChoicesError(\"Số lượng phương án phải từ 2 đến 5.\");\r\n        } else {\r\n            setNumberOfChoices(count);\r\n            setNumberOfChoicesError(\"\");\r\n            let tmpKeysArr = []\r\n            let tmpKeysCorrectArr = [] \r\n            let tmpKeyImages = [];\r\n            let tmpKeyImagesURLs = [];\r\n            for (let i = 0; i < count; i++) {\r\n                tmpKeysArr.push(\"\");\r\n                tmpKeysCorrectArr.push(false);\r\n                tmpKeyImages.push(null);\r\n                tmpKeyImagesURLs.push(\"\");\r\n            }\r\n            setKeyCorrects(tmpKeysCorrectArr);\r\n            setKeys(tmpKeysArr);\r\n            setKeyImages(tmpKeyImages);\r\n            setKeyImageUrl(tmpKeyImagesURLs);\r\n            keyImageURLs.current = tmpKeyImagesURLs;\r\n        }\r\n    }\r\n\r\n    const handleCorrectKeyChange = (index) => {\r\n        let getKeyCorrectArr = [];\r\n        for (let i = 0; i < keyCorrects.length; i++) {\r\n            getKeyCorrectArr.push(false);\r\n        }\r\n        let item = getKeyCorrectArr[index];\r\n        getKeyCorrectArr[index] = !item;\r\n        setKeyCorrects(getKeyCorrectArr);\r\n    }\r\n\r\n    const handleKeyChange = (index, value) => {\r\n        let emptyArr = [];\r\n        for (let i = 0; i < keys.length; i++) {\r\n            if (i === index) {\r\n                emptyArr.push(value);\r\n            } else {\r\n                emptyArr.push(keys[i]);\r\n            }\r\n        }\r\n        setKeys(emptyArr);\r\n    }\r\n\r\n    const handleKeyImage = (index, file) => {\r\n        let emptyArr = [];\r\n        for (let i = 0; i < keyImages.length; i++) {\r\n            if (i === index) {\r\n                emptyArr.push(file);\r\n            } else {\r\n                emptyArr.push(keyImages[i]);\r\n            }\r\n        }\r\n        setKeyImages(emptyArr);\r\n    }\r\n\r\n    const setImageNull = (i) => {\r\n        let emptyArr = [...keyImages];\r\n        emptyArr[i] = null;\r\n        let emptyArr1 = [...keyImageUrl];\r\n        emptyArr1[i] = \"\";\r\n        setKeyImages(emptyArr);\r\n        setKeyImageUrl(emptyArr1);\r\n    }\r\n\r\n    const prepareFormSubmit = async(e) => {\r\n        e.preventDefault();\r\n\r\n        //Validate info\r\n        if (question === \"\") {\r\n            setValidateError(\"Vui lòng nhập nội dung câu hỏi.\");\r\n            return;\r\n        } else if (keys.length === 0) {\r\n            setValidateError(\"Vui lòng nhập đáp án cho câu hỏi.\");\r\n            return;\r\n        } else if (keys.length !== 1) {\r\n            if (!keyCorrects.includes(true)) {\r\n                setValidateError(\"Vui lòng chọn 1 đáp án đúng.\");\r\n                return;\r\n            }\r\n            for (let i = 0; i < keys.length; i++) {\r\n                if (keys[i] === \"\" && !keyImages[i]) {\r\n                    setValidateError(\"Phương án không hợp lệ.\");\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        else if (!props.useQuizTime && isNaN(parseInt(time))) {\r\n            setValidateError(\"Thời gian trả lời không hợp lệ.\");\r\n            return;\r\n        } else if (isNaN(parseInt(point))) {\r\n            setValidateError(\"Điểm số câu không hợp lệ.\");\r\n            return;\r\n        }\r\n\r\n        let getCount = 0;\r\n        for (let i = 0; i < keyImages.length; i++) {\r\n            if (keyImages[i])\r\n                getCount++;\r\n        }\r\n        if (file)\r\n            getCount++;\r\n\r\n        //Upload to firebase and retrieve URL \r\n        if (getCount != 0) {\r\n            let fileName = file.name + \"-\" + Date.now();\r\n            //questions_images\r\n            storage.ref(`questions_images/${fileName}`).put(file)\r\n            .on(\"state_changed\", (snapshot) => {}, \r\n            (error) => {console.log(error)}, \r\n            () => {\r\n                storage.ref(`questions_images/`).child(`${fileName}`).getDownloadURL()\r\n                .then(\r\n                    (url) => {\r\n                        imageURL.current = url;\r\n                        check();\r\n                    },\r\n                    (error) => {\r\n                        console.log(error);\r\n                    }\r\n                );\r\n            });\r\n\r\n            for (let i = 0; i < keyImages.length; i++) {\r\n                if (keyImages[i]) {\r\n                    let keyFileName = keyImages[i].name + \"-\" + Date.now();\r\n                    //questions_images\r\n                    storage.ref(`questions_images/${keyFileName}`).put(keyImages[i])\r\n                    .on(\"state_changed\", (snapshot) => {}, \r\n                    (error) => {console.log(error)}, \r\n                    () => {\r\n                        storage.ref(`questions_images/`).child(`${keyFileName}`).getDownloadURL()\r\n                        .then(\r\n                            (url) => {\r\n                                setImageURL(i, url);  \r\n                            },\r\n                            (error) => {\r\n                                console.log(error);\r\n                            }\r\n                        );\r\n                    });\r\n                }\r\n            }\r\n        } else {\r\n            callParentSubmit();\r\n        }\r\n    }\r\n\r\n    const setImageURL = (index, path) => {\r\n        // let arrays = [...keyImagesURLs];\r\n        // arrays[index] = path;\r\n        // setKeyImagesURLs(arrays);\r\n\r\n        let getArray = keyImageURLs.current;\r\n        getArray[index] = path;\r\n        keyImageURLs.current = getArray;\r\n        check();\r\n    }\r\n\r\n    const callParentSubmit = (image) => {\r\n        let output = {};\r\n        output[\"question\"] = question;\r\n        output[\"questionType\"] = questionType;\r\n        output[\"numberOfChoices\"] = numberOfChoices;\r\n        output[\"keys\"] = keys;\r\n        output[\"keyCorrects\"] = keyCorrects;\r\n        output[\"explain\"] = explain;\r\n        output[\"time\"] = time === \"\"? 0 : parseInt(time);\r\n        output[\"point\"] = point;\r\n        output[\"image\"] = imageURL.current;\r\n        output[\"keyImages\"] = keyImageURLs.current;\r\n        output[\"questIndex\"] = props.questionEditGet[\"questIndex\"];\r\n\r\n        //Refresh\r\n        setValidateError(\"\");\r\n        setQuestion(\"\");\r\n        setQuestionType(0);\r\n        setNumberOfChoicesError(\"\");\r\n        setNumberOfChoices(0);\r\n        setKeys([]);\r\n        setKeyCorrects([]);\r\n        setExplain(\"\");\r\n        setFile(null);\r\n        setTime(\"\");\r\n        setPoint(\"\");\r\n        keyImageURLs.current = [];\r\n        imageURL.current = \"\";\r\n        setKeyImages([]);\r\n        setKeyImageUrl([]);\r\n\r\n        props.onAddQuestionSubmit(output);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (props.questionEditGet) {\r\n            setQuestion(props.questionEditGet[\"question\"]);\r\n            setQuestionType(props.questionEditGet[\"questionType\"]);\r\n            setNumberOfChoices(props.questionEditGet[\"keys\"].length);\r\n            setKeys(props.questionEditGet[\"keys\"]);\r\n            setKeyCorrects(props.questionEditGet[\"keyCorrects\"]);\r\n            setTime(props.questionEditGet[\"time\"]);\r\n            setExplain(props.questionEditGet[\"explain\"]);\r\n            setURL(props.questionEditGet[\"image\"]);\r\n            keyImageURLs.current = [];\r\n            imageURL.current = \"\";\r\n            setKeyImageUrl(props.questionEditGet[\"keyImages\"]);\r\n            \r\n            setTimeout(() => {\r\n                console.log(props.questionEditGet)\r\n            }, 500)\r\n        }\r\n    }, [props.questionEditGet]);\r\n\r\n    return (\r\n        <Modal\r\n            size=\"lg\"\r\n            aria-labelledby=\"contained-modal-title-vcenter\"\r\n            centered\r\n            {...props}\r\n        >\r\n            <Modal.Header>\r\n                <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                    Sửa câu hỏi (câu {props.questionEditGet? props.questionEditGet[\"questIndex\"] + 1 : \"\"})\r\n                </Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n            <Row>\r\n                    <Col md={10} sm={12} className=\"offset-md-1 offset-sm-0\">\r\n                        <Form id=\"questionAddForm\" onSubmit={prepareFormSubmit}>\r\n                            <Form.Group className=\"\" controlId=\"formBasicEmail\">\r\n                                <Form.Label>Câu hỏi</Form.Label>\r\n                                <Form.Control as=\"textarea\" required validate=\"Quiz name is not valid!\"\r\n                                value={question}\r\n                                onChange={(e) => setQuestion(e.target.value)}/>\r\n                            </Form.Group>\r\n                            <Form.Group className=\"\">\r\n                            <fieldset>\r\n                                <Form.Group as={Row} className=\"mb-3\">\r\n                                <Form.Label as=\"legend\" column sm={2}>\r\n                                    Loại:\r\n                                </Form.Label>\r\n                                <Col sm={12}>\r\n                                    <Form.Check\r\n                                        type=\"radio\"\r\n                                        label=\"Trắc nghiệm\"\r\n                                        name=\"question-type\"\r\n                                        checked={questionType === 0}\r\n                                        onChange={() => handleQuestionTypeChange(0)}\r\n                                    />\r\n                                     <Form.Check\r\n                                        type=\"radio\"\r\n                                        label=\"Trả lời ngắn\"\r\n                                        name=\"question-type\"\r\n                                        checked={questionType === 1}\r\n                                        onChange={() => handleQuestionTypeChange(1)}\r\n                                    />\r\n                                </Col>\r\n                                </Form.Group>\r\n                            </fieldset>\r\n                            </Form.Group>\r\n                            {questionType === 0 && \r\n                                (<Form.Group className=\"\" controlId=\"formBasicEmail\">\r\n                                <Form.Label>Số phương án</Form.Label>\r\n                                <Form.Control \r\n                                    type=\"number\"\r\n                                    validate=\"Phải là giá trị từ 2 đến 5\" \r\n                                    min={2} max={5}\r\n                                    value={numberOfChoices}\r\n                                    onChange={(e) => handleChoicesCountChange(e.target.value)}\r\n                                />\r\n                                <p className=\"error\">{numberOfChoicesError}</p>\r\n                                </Form.Group>)\r\n                            }\r\n                            {\r\n                                numberOfChoicesError === \"\" && (questionType === 0 && [...Array(parseInt(numberOfChoices))].map((x, i) => {\r\n                                    let getClassName = `question-${numberOfChoices}-answer`;\r\n                                    let idImageName = `file-${i}`\r\n                                    return (\r\n                                        <Form.Group className=\"mt-2\" controlId=\"formBasicEmail\">\r\n                                            <Form.Label>Phương án {i + 1}\r\n                                            <Form.Check\r\n                                                type=\"radio\"\r\n                                                label=\"Đúng\"\r\n                                                name={getClassName}\r\n                                                checked={keyCorrects[i]}\r\n                                                onChange={() => handleCorrectKeyChange(i)}\r\n                                            />\r\n                                            </Form.Label>\r\n                                            <Form.Control type=\"text\" required validate=\"Không hợp lệ!\" minLength={1}\r\n                                            value={keys[i]}\r\n                                            onChange={(e) => handleKeyChange(i, e.target.value)}/>\r\n                                            <Form.Group controlId=\"formFileSm\" className=\"mb-3 mt-3\">\r\n                                                <Form.Label>Ảnh phương án (nếu có)</Form.Label><br></br>\r\n                                                <label htmlFor={idImageName} className=\"shareOption\" style={{cursor: \"pointer\"}}>\r\n                                                    <PermMedia htmlColor=\"green\" className=\"shareIcon\"/>\r\n                                                    <Form.Control style={{display: \"none\"}} type=\"file\" id={idImageName} accept=\".png, .jpeg, .jpg\" size=\"sm\" onChange={(e) => handleKeyImage(i, e.target.files[0])}/>\r\n                                                </label>\r\n                                            </Form.Group>\r\n                                            {(keyImages[i] || keyImageUrl[i] !== \"\") && <div className=\"keyImgContainer\">\r\n                                                <img className=\"shareImg\" src={(keyImages[i] && URL.createObjectURL(keyImages[i])) || keyImageUrl[i] !== \"\"} alt=\"\"/>\r\n                                                <Cancel className=\"shareCancelImg\" onClick={() => setImageNull(i)}></Cancel>\r\n                                            </div>}\r\n                                        </Form.Group>\r\n                                    )\r\n                                })) || \r\n                                (questionType === 1 && \r\n                                    <Form.Group className=\"\" controlId=\"formBasicEmail\">\r\n                                        <Form.Label>Đáp án</Form.Label>\r\n                                        <Form.Control type=\"text\" required validate=\"Đáp án không hợp lệ!\" minLength={1}\r\n                                        value={keys[0]}\r\n                                        onChange={(e) => handleKeyChange(0, e.target.value)}/>\r\n                                    </Form.Group>\r\n                                )\r\n                            }\r\n                            <Form.Group className=\"mt-2\" controlId=\"formBasicEmail\">\r\n                                <Form.Label>Giải thích (nếu có)</Form.Label>\r\n                                <Form.Control as=\"textarea\" validate=\"Không hợp lệ!\"\r\n                                value={explain}\r\n                                onChange={(e) => setExplain(e.target.value)}/>\r\n                            </Form.Group>\r\n                            <Form.Group className=\"mt-2\" controlId=\"formBasicEmail\">\r\n                                <Form.Label>Điểm số</Form.Label>\r\n                                <Form.Control validate=\"Không hợp lệ!\"\r\n                                value={point} type=\"number\" min={0} \r\n                                onChange={(e) => setPoint(e.target.value)}/>\r\n                            </Form.Group>\r\n                            {!props.useQuizTime && <Form.Group controlId=\"formFileSm\" className=\"mb-3 mt-3\">\r\n                                <Form.Label>Thời gian trả lời (giây): </Form.Label><br></br>\r\n                                <Form.Control \r\n                                    type=\"number\"\r\n                                    min = {1}\r\n                                    value={time}\r\n                                    onChange={(e) => setTime(e.target.value)} \r\n                                />\r\n                            </Form.Group>}\r\n                            <Form.Group controlId=\"formFileSm\" className=\"mb-3 mt-3\">\r\n                                <Form.Label>Ảnh (nếu có)</Form.Label><br></br>\r\n                                <label htmlFor=\"file\" className=\"shareOption\" style={{cursor: \"pointer\"}}>\r\n                                    <PermMedia htmlColor=\"green\" className=\"shareIcon\"/>\r\n                                    <Form.Control style={{display: \"none\"}} type=\"file\" id=\"file\" accept=\".png, .jpeg, .jpg\" size=\"sm\" onChange={(e) => setFile(e.target.files[0])}/>\r\n                                </label>\r\n\r\n                            </Form.Group>\r\n                            </Form>\r\n                            {(file || url !== \"\") && <div className=\"shareImgContainer\">\r\n                                <img className=\"shareImg\" src={file && URL.createObjectURL(file) || url} alt=\"\"/>\r\n                                <Cancel className=\"shareCancelImg\" onClick={() => {\r\n                                    setFile(null);\r\n                                    setURL(null);\r\n                                }}></Cancel>\r\n                            </div>}\r\n                    </Col>\r\n                </Row>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n            <p className=\"error\">{validateError}</p>\r\n            <Button variant=\"warning\" type=\"submit\" form=\"questionAddForm\">Sửa</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default QuestionEditModal\r\n"]},"metadata":{},"sourceType":"module"}