(this["webpackJsonponline-quiz-system"]=this["webpackJsonponline-quiz-system"]||[]).push([[0],{122:function(e,t,n){"use strict";(function(e){var a=n(34),c=n(15),r=n.n(c),s=n(20),i=n(5),l=n(0),u=(n(206),n(27)),o=n.n(u),j=n(31),b=n(29),d=n(154),h=n(127),O=n(57),m=n(128),p=n(114),x=n(82),f=n(150),g=n(123),v=n(124),k=n(125),y=n(148),N=n(1);t.a=function(t){var n=Object(l.useContext)(j.a).user,c=Object(l.useState)([]),u=Object(i.a)(c,2),q=u[0],C=u[1],S=Object(l.useState)([]),w=Object(i.a)(S,2),_=w[0],I=w[1],z=Object(l.useState)(0),T=Object(i.a)(z,2),L=T[0],G=T[1],F=Object(l.useState)(0),E=Object(i.a)(F,2),D=E[0],A=E[1],R=Object(l.useState)(!1),Q=Object(i.a)(R,2),M=Q[0],U=Q[1],B=Object(l.useState)(0),H=Object(i.a)(B,2),K=H[0],P=H[1],W=Object(l.useState)(!1),V=Object(i.a)(W,2),X=V[0],J=V[1],Y=Object(l.useState)(!1),Z=Object(i.a)(Y,2),$=Z[0],ee=Z[1],te=Object(l.useRef)(0),ne=Object(l.useState)([]),ae=Object(i.a)(ne,2),ce=ae[0],re=ae[1],se=Object(l.useState)(""),ie=Object(i.a)(se,2),le=ie[0],ue=ie[1],oe=Object(l.useState)(0),je=Object(i.a)(oe,2),be=je[0],de=je[1],he=Object(l.useState)(!1),Oe=Object(i.a)(he,2),me=Oe[0],pe=Oe[1],xe=Object(l.useState)([]),fe=Object(i.a)(xe,2),ge=fe[0],ve=fe[1],ke=Object(l.useState)([]),ye=Object(i.a)(ke,2),Ne=ye[0],qe=ye[1],Ce=Object(l.useState)([]),Se=Object(i.a)(Ce,2),we=Se[0],_e=Se[1],Ie=Object(l.useState)(""),ze=Object(i.a)(Ie,2),Te=ze[0],Le=ze[1],Ge=Object(l.useState)(!1),Fe=Object(i.a)(Ge,2),Ee=Fe[0],De=Fe[1],Ae=Object(l.useState)(""),Re=Object(i.a)(Ae,2),Qe=Re[0],Me=Re[1],Ue=Object(l.useState)(0),Be=Object(i.a)(Ue,2),He=Be[0],Ke=Be[1],Pe=Object(l.useState)(""),We=Object(i.a)(Pe,2),Ve=We[0],Xe=We[1],Je=Object(l.useState)(!1),Ye=Object(i.a)(Je,2),Ze=Ye[0],$e=Ye[1],et=Object(l.useState)(!1),tt=Object(i.a)(et,2),nt=tt[0],at=tt[1],ct=Object(l.useState)(!1),rt=Object(i.a)(ct,2),st=rt[0],it=rt[1],lt=Object(l.useState)(!1),ut=Object(i.a)(lt,2),ot=ut[0],jt=ut[1],bt=Object(l.useState)(null),dt=Object(i.a)(bt,2),ht=dt[0],Ot=dt[1],mt=Object(l.useState)(!0),pt=Object(i.a)(mt,2),xt=pt[0],ft=pt[1],gt=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[n],e[n]=a}return e},vt=function(e){var t=parseInt(e,10);return[Math.floor(t/3600),Math.floor(t/60)%60,t%60].map((function(e){return e<10?"0"+e:e})).filter((function(e,t){return"00"!==e||t>0})).join(":")},kt=function(){M&&null!=q[D].question_time&&P(q[D].question_time),A(D+1)},yt=function(){var a=Object(s.a)(r.a.mark((function a(c){var s,i,l,u,j,b,d;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(1!==c){a.next=7;break}return s={user_id:n.id,quiz_id:t.location.state.id,point:L,time:null,correct:He,details:we},it(!0),a.next=5,o.a.post("https://online-quiz-system-server.herokuapp.com/api/quiz/attempt",s).then((function(e){at(!0)})).catch((function(e){}));case 5:a.next=44;break;case 7:if(Ee){a.next=44;break}i=0,l=0,u=[],j=0;case 12:if(!(j<ge.length)){a.next=36;break}if(0!==q[j].question_type){a.next=30;break}u.push({answer:ge[j],mark:!1,question_id:q[j].id,point:0}),b=0;case 16:if(!(b<q[j].answers.length)){a.next=28;break}if((d=q[j].answers[b]).id!==ge[j]){a.next=25;break}if(1!==d.is_correct){a.next=25;break}return u[j].mark=!0,u[j].point=q[j].question_point,i+=q[j].question_point,l++,a.abrupt("break",28);case 25:b++,a.next=16;break;case 28:a.next=33;break;case 30:u.push({answer:ge[j],mark:!1,question_id:q[j].id,point:0}),St(ge[j],e(q[j].answers[0].answer_content,"base64").toString("utf-8"))&&(u[j].mark=!0,u[j].point=q[j].question_point,i+=q[j].question_point,l++);case 33:j++,a.next=12;break;case 36:_e(u),G(i),Ke(l),De(!0),clearInterval(be),de(null),pe(!0),$e(!0);case 44:ht.pause(),ee(!0);case 46:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();Object(l.useEffect)(Object(s.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M||!Ze){e.next=5;break}return a={user_id:n.id,quiz_id:t.location.state.id,point:L,time:_.quiz_time-te.current<0?0:_.quiz_time-te.current,correct:He,details:we},it(!0),e.next=5,o.a.post("https://online-quiz-system-server.herokuapp.com/api/quiz/attempt",a).then((function(e){at(!0)})).catch((function(e){}));case 5:case"end":return e.stop()}}),e)}))),[Ze]);var Nt=function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("https://online-quiz-system-server.herokuapp.com/api/quiz/info/".concat(t.location.state.id)).then(function(){var e=Object(s.a)(r.a.mark((function e(n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.data,I(a[0]),U(null==a[0].quiz_time),null!=a[0].quiz_time&&(P(parseInt(a[0].quiz_time)),te.current=parseInt(a[0].quiz_time),ue(vt(te.current))),e.next=6,o.a.get("https://online-quiz-system-server.herokuapp.com/api/quiz/join/".concat(t.location.state.id)).then(function(){var e=Object(s.a)(r.a.mark((function e(t){var n,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data,0!=a[0].raw_order){e.next=5;break}return e.next=4,gt(n);case 4:n=e.sent;case 5:if(C(n),!M){for(c=[],s=0;s<n.length;s++)ge.push(""),c.push(!0);ve(ge),qe(c)}case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qt=function(t){if(!Ee&&M&&"Enter"==t.key){t.preventDefault(),De(!0);var n=we;n.push({answer:t.target.value,mark:!1,question_id:q[D-1].id,point:0});var a=e(q[D-1].answers[0].answer_content,"base64").toString("utf-8");a=a.split("~|"),Me(a[0].replace("~>",", ").replace("~+",", ")),St(t.target.value,e(q[D-1].answers[0].answer_content,"base64").toString("utf-8"))?(G(L+q[D-1].question_point),Ke(He+1),n[D-1].mark=!0,n[D-1].point=q[D-1].question_point,new Audio(g.a).play()):new Audio(v.a).play(),_e(n),pe(!0),clearInterval(be),de(null)}},Ct=function(t,n){if(0===t){var a=we;a.push({answer:n,mark:!1,question_id:q[D-1].id,point:0}),De(!0),_e(a)}else{De(!0);var c=we;c.push({answer:n,mark:!1,question_id:q[D-1].id,point:0}),_e(c);var r=e(q[D-1].answers[0].answer_content,"base64").toString("utf-8");r=r.split("~|"),Me(r[0].replace("~>",", ").replace("~+",", ")),pe(!0)}},St=function(e,t){for(var n=(t=t.replaceAll("~|","|")).split("|"),a=!1,c=0;c<n.length;c++){var r=e.trim().toUpperCase();if(r==n[c].toUpperCase())a=!0;else if(n[c].includes("~>")){var s=!0,i=n[c].replaceAll("~>","|").split("|"),l=r;if(l.includes(" , ")&&(l=r.replaceAll(" , ","|")),l.includes(" ,")&&(l=l.replaceAll(" ,","|")),l.includes(", ")&&(l=l.replaceAll(", ","|")),l.includes(",")&&(l=l.replaceAll(",","|")),l.includes(" - ")&&(l=l.replaceAll(" - ","|")),l.includes("- ")&&(l=l.replaceAll("- ","|")),l.includes(" -")&&(l=l.replaceAll(" -","|")),l.includes("-")&&(l=l.replaceAll("-","|")),l.includes("|")){var u=l.Split("|");if(u.length!=i.length)s=!1;else{for(var o=!0,j=0;j<u.length;j++)if(u[j]!=i[j].toUpperCase()){o=!1;break}o||(s=!1)}}else if(l.length!=i.length)s=!1;else{for(var b=!0,d=0;d<l.length;d++)if(l[d].toString()!=i[d].toUpperCase()){b=!1;break}b||(s=!1)}a=s}else if(n[c].includes("~+")){var h=!0,O=n[c].replaceAll("~+","|").split("|"),m=r;if(m.includes(" , ")&&(m=r.replaceAll(" , ","|")),m.includes(" ,")&&(m=m.replaceAll(" ,","|")),m.includes(", ")&&(m=m.replaceAll(", ","|")),m.includes(",")&&(m=m.replaceAll(",","|")),m.includes(" - ")&&(m=m.replaceAll(" - ","|")),m.includes("- ")&&(m=m.replaceAll("- ","|")),m.includes(" -")&&(m=m.replaceAll(" -","|")),m.includes("-")&&(m=m.replaceAll("-","|")),m.includes("|")){var p=m.Split("|");if(p.length!=O.length)h=!1;else for(var x=0;x<p.length;x++){for(var f=!1,g=0;g<O.length;g++)if(p[x]==O[g].toUpperCase()){f=!0;break}if(!f){h=!1;break}}}else if(m.length!=O.length)h=!1;else for(var v=0;v<m.length;v++){for(var k=!1,y=0;y<O.length;y++)if(m[v].toString()==O[y].toUpperCase()){k=!0;break}if(!k){h=!1;break}}a=h}if(a)break}return a},wt=function(e){if(M)Xe(e.target.value);else{var t=Object(a.a)(ge);t[D-1]=e.target.value,Le(e.target.value),ve(t)}};return Object(l.useEffect)((function(){0==_.length&&Nt(),null==ht&&Ot(new Audio(y.a))}),[]),Object(l.useEffect)((function(){null!=ht&&(ht.volume=.25,ht.addEventListener("ended",(function(){var e=this;this.currentTime=0,setTimeout((function(){e.play()}),1e3)}),!1))}),[ht]),Object(l.useEffect)((function(){if(M&&(clearInterval(be),de(null),De(!1),Me(""),pe(!1),Xe("")),0!=D){var e=q[D-1].answers;e=gt(e),re(e),M||(Ne[D-1]?(Le(ge[D-1]),pe(!1)):pe(!0))}if(1==D){J(!0),M&&null!=q[D-1].question_time&&(P(q[D].question_time),te.current=q[D].question_time,ue(vt(te.current)));var t=M?q[D-1].question_time:K;if(ht.play(),M&&(te.current=t,ue(vt(te.current))),!be){var n=setInterval((function(){te.current=te.current-1,ue(vt(te.current)),0==te.current&&(clearInterval(n),de(null),te.current=0,ue("00:00"),pe(!0),M?0===q[D-1].question_type?Ct(0,-1):Ct(1,""):yt(0))}),1e3);de(n)}}if(0!=D&&1!=D&&M){var a=M?q[D-1].question_time:K;if(M&&(te.current=a,ue(vt(te.current))),!be){var c=setInterval((function(){te.current=te.current-1,ue(vt(te.current)),0==te.current&&(clearInterval(c),de(null),te.current=0,ue("00:00"),pe(!0),M&&(0===q[D-1].question_type?Ct(0,-1):Ct(1,"")))}),1e3);de(c)}}}),[D]),Object(N.jsx)(f.a,{onChange:function(){return function(){var e=xt;if(ft(!xt),e)if(M&&!Ee&&be&&X&&!$){0===q[D-1].question_type?Ct(0,-1):Ct(1,"");var t=new Audio(k.a);t.volume=.3,t.play(),clearInterval(be),de(null)}else if(!M&&X&&!$){var n=Ne;Ne[D-1]=!1,qe(n),pe(!0);var c=Object(a.a)(ge);1===q[D-1].question_type?c[D-1]="":c[D-1]=-1,ve(c);var r=new Audio(k.a);r.volume=.3,r.play()}}()},children:Object(N.jsxs)(N.Fragment,{children:[!st&&0==q.length&&Object(N.jsx)("h5",{className:"text-center mt-3 mb-3",children:"\u0110ang t\u1ea3i c\xe2u h\u1ecfi"}),!st&&0!=q.length&&Object(N.jsxs)(d.a,{className:"mt-3 mb-3 quiz-container",children:[Object(N.jsx)("h2",{className:"text-center",children:_.quiz_title}),Object(N.jsxs)("p",{className:"text-center m-1",children:["T\u1ea1o b\u1edfi: ",_.creator]}),Object(N.jsx)("div",{className:"info-block",children:Object(N.jsxs)(h.a,{className:"text-left",children:[Object(N.jsxs)("p",{className:"info",children:["\u0110i\u1ec3m: ",L]}),Object(N.jsxs)("p",{className:"info",children:["Th\u1eddi gian: ",le]})]})}),0!==D&&Object(N.jsxs)("h5",{className:"text-center",children:["C\xe2u h\u1ecfi: ",D,"/",q.length]}),Object(N.jsx)("div",{className:"text-center"}),0==D&&Object(N.jsx)("div",{className:"text-center",children:Object(N.jsx)(O.a,{onClick:function(){return A(1)},variant:"info",className:"btn-rounded text-white text-center",children:"B\u1eaft \u0111\u1ea7u"})}),0!=D&&Object(N.jsxs)(N.Fragment,{children:[!Ne[D-1]&&Object(N.jsx)("div",{className:"mt-1 mb-1 text-center",children:Object(N.jsx)("p",{className:"error",children:"C\xe2u h\u1ecfi ph\u1ea1m vi. C\xe2u tr\u1ea3 l\u1eddi s\u1ebd kh\xf4ng \u0111\u01b0\u1ee3c t\xednh"})}),Object(N.jsx)("div",{className:"question-content-box d-flex justify-content-center align-items-center",children:Object(N.jsx)("h5",{className:"txt-quest",children:q[D-1].question_content})}),""!=q[D-1].media&&Object(N.jsx)("div",{className:"text-center mt-2",children:Object(N.jsx)("img",{className:"img-quest",src:q[D-1].media})}),1==q[D-1].question_type&&Object(N.jsxs)("div",{children:[!M&&Object(N.jsx)(m.a.Control,{value:Te,disabled:me,type:"text",className:"mt-2",placeholder:"C\xe2u tr\u1ea3 l\u1eddi",onKeyPress:function(e){return qt(e)},onChange:function(e){return wt(e)}}),M&&Object(N.jsx)(m.a.Control,{value:Ve,disabled:me,type:"text",className:"mt-2",placeholder:"C\xe2u tr\u1ea3 l\u1eddi",onKeyPress:function(e){return qt(e)},onChange:function(e){return wt(e)}})]}),0==q[D-1].question_type&&Object(N.jsx)(h.a,{className:"mt-2",children:ce.map((function(t,n){var a=M||ge[D-1]!=t.id?"answer-content text-center":"answer-content text-center chosen";return M&&Ee&&(a=1==t.is_correct?"answer-content text-center correct":"answer-content text-center wrong"),Object(N.jsx)(p.a,{lg:6,md:6,sm:12,className:"p-1 answer",children:Object(N.jsxs)("div",{className:a,onClick:function(){return function(e){if(!Ee&&M){var t=we;t.push({answer:e,mark:!1,question_id:q[D-1].id,point:0}),De(!0);for(var n=0;n<q[D-1].answers.length;n++){var a=q[D-1].answers[n];if(a.id===e){1===a.is_correct?(G(L+q[D-1].question_point),Ke(He+1),t[D-1].mark=!0,t[D-1].point=q[D-1].question_point,new Audio(g.a).play()):new Audio(v.a).play();break}}_e(t),clearInterval(be),de(null)}if(!M&&Ne[D-1]){var c=ge;c[D-1]=e,ve(c)}}(t.id)},children:[""!=t.media&&Object(N.jsx)("div",{children:Object(N.jsx)("img",{className:"img-answer",src:t.media})}),Object(N.jsx)("p",{className:"mt-1 mb-0",children:e(t.answer_content,"base64").toString("utf-8")})]})})}))}),M&&Ee&&Object(N.jsxs)("div",{className:"text-center mt-1",children:[1==q[D-1].answers.length&&Object(N.jsxs)("h5",{children:["\u0110\xe1p \xe1n: ",Qe]}),Object(N.jsx)("h5",{children:e(q[D-1].explanation,"base64").toString("utf-8")})]})]})]}),!st&&!M&&0!=D&&Object(N.jsxs)(N.Fragment,{children:[!Ee&&Object(N.jsxs)("div",{className:"text-center",children:[1!=D&&Object(N.jsx)(O.a,{onClick:function(){A(D-1)},variant:"info",className:"btn-rounded text-white text-center btn-mr",style:{marginRight:"5px"},children:"Tr\u01b0\u1edbc"}),D!=q.length&&Object(N.jsx)(O.a,{onClick:function(){return kt()},variant:"info",className:"btn-rounded text-white text-center ml-1",children:"Ti\u1ebfp"})]}),Object(N.jsx)("div",{className:"text-center mt-2 complete-block",children:Object(N.jsx)(O.a,{onClick:function(){return yt(0)},variant:"success",className:"btn-rounded text-white text-center",children:"Ho\xe0n th\xe0nh"})})]}),!st&&M&&0!=D&&D!=ge.length&&Ee&&Object(N.jsx)("div",{className:"text-center",children:Object(N.jsx)(O.a,{onClick:function(){return kt()},variant:"info",className:"btn-rounded text-white text-center",children:"Ti\u1ebfp"})}),!st&&M&&Ee&&0!=D&&D==ge.length&&Object(N.jsx)("div",{className:"text-center mt-2 complete-block",children:Object(N.jsx)(O.a,{onClick:function(){return yt(1)},variant:"success",className:"btn-rounded text-white text-center",children:"Ho\xe0n th\xe0nh"})}),st&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(x.a,{show:nt,onHide:function(){return at(!1)},reviewContent:we,questions:q,quizInfo:_}),Object(N.jsx)("div",{className:"mt-3 text-center mb-3",children:Object(N.jsx)(O.a,{variant:"info",className:"text-white",onClick:function(){return jt(!0)},children:"K\u1ebft th\xfac"})})]}),ot&&Object(N.jsx)(b.a,{to:"/home"})]})})}}).call(this,n(142).Buffer)},123:function(e,t,n){"use strict";t.a=n.p+"static/media/right.10e31de5.mp3"},124:function(e,t,n){"use strict";t.a=n.p+"static/media/wrong.81c658c9.mp3"},125:function(e,t,n){"use strict";t.a=n.p+"static/media/invalid.90d4cd90.mp3"},148:function(e,t,n){"use strict";t.a=n.p+"static/media/time.439a4720.wav"},170:function(e,t,n){},198:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},209:function(e,t,n){},210:function(e,t,n){},212:function(e,t,n){},213:function(e,t,n){},217:function(e,t,n){},218:function(e,t,n){},221:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(24),s=n.n(r),i=n(48),l=n(15),u=n.n(l),o=n(20),j=n(5),b=n(269),d=n(268),h=n(282),O=n(265),m=n(224),p=n(283),x=n(267),f=n(152),g=n(266),v=n(287),k=n(270),y=n(271),N=n(147),q=n.n(N),C=(n(170),n(27)),S=n.n(C),w=function(){var e=Object(o.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"LOGIN_START"}),e.prev=1,e.next=4,S.a.post("https://online-quiz-system-server.herokuapp.com/api/auth/login",t);case 4:a=e.sent,n({type:"LOGIN_SUCCESS",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n({type:"LOGIN_FAILURE",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),_=n(31),I=n.p+"static/media/ncn.48d8e610.png",z=n.p+"static/media/cover.7cb09466.png",T=n(1);function L(){return Object(T.jsxs)(f.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(T.jsx)(O.a,{color:"inherit",href:"https://nhannc.site/",children:"Nguyen Cao Nhan"})," ",(new Date).getFullYear(),"."]})}var G=Object(g.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(".concat(z,")"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},dialogWrapper:{padding:e.spacing(2),position:"absolute",top:e.spacing(5)},dialogTitle:{paddingRight:"0px"}}}));function F(){var e=G(),t=c.a.useState(!1),n=Object(j.a)(t,2),r=n[0],s=n[1],i=c.a.useState(""),l=Object(j.a)(i,2),g=l[0],N=l[1],C=c.a.useState(""),z=Object(j.a)(C,2),F=z[0],E=z[1],D=Object(a.useState)(!1),A=Object(j.a)(D,2),R=A[0],Q=A[1],M=Object(a.useContext)(_.a).dispatch,U=Object(a.useContext)(_.a).isFetching,B=Object(a.useContext)(_.a).user,H=Object(a.useRef)(),K=Object(a.useRef)(),P=Object(a.useRef)(),W=Object(a.useRef)(),V=Object(a.useRef)(),X=Object(a.useRef)(),J=function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),w({username:H.current.value,password:K.current.value},M),Q(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){!U&&R&&null===B?N("Th\xf4ng tin \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\xfang"):null===B&&R||N("")}),[U]);var Y=function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),X.current.value===V.current.value){e.next=5;break}E("X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang"),e.next=16;break;case 5:return n={username:P.current.value,fullname:W.current.value,password:V.current.value},e.prev=6,e.next=9,S.a.post("https://online-quiz-system-server.herokuapp.com/api/auth/register",n);case 9:w({username:P.current.value,password:V.current.value},M),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(6),console.log(e.t0),E("C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i sau!");case 16:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(x.a,{container:!0,component:"main",className:e.root,children:[Object(T.jsx)(d.a,{}),Object(T.jsx)(x.a,{item:!0,xs:!1,sm:6,md:7,className:e.image}),Object(T.jsx)(x.a,{item:!0,xs:12,sm:6,md:5,component:m.a,elevation:12,square:!0,style:{display:"flex",alignItems:"center"},children:Object(T.jsxs)("div",{className:e.paper,style:{width:"100%"},children:[Object(T.jsx)("div",{className:"text-center logo-container",children:Object(T.jsx)("img",{src:I})}),Object(T.jsx)(f.a,{component:"h1",variant:"h5",children:"\u0110\u0103ng nh\u1eadp"}),Object(T.jsxs)("form",{onSubmit:J,className:e.form,children:[Object(T.jsx)(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"T\xean \u0111\u0103ng nh\u1eadp",name:"username",autoFocus:!0,inputRef:H}),Object(T.jsx)(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password",label:"M\u1eadt kh\u1ea9u",name:"password",type:"password",inputRef:K}),Object(T.jsx)("p",{style:{margin:0,padding:0,color:"red",fontStyle:"italic",textAlign:"center"},children:g}),Object(T.jsx)(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"\u0110\u0103ng nh\u1eadp"}),Object(T.jsxs)(x.a,{container:!0,children:[Object(T.jsx)(x.a,{item:!0,xs:!0,children:Object(T.jsx)(O.a,{href:"#",variant:"body2",style:{display:"none"},children:"Qu\xean m\u1eadt kh\u1ea9u?"})}),Object(T.jsx)(x.a,{item:!0,children:Object(T.jsx)(O.a,{href:"#",onClick:function(){return s(!0)},children:"T\u1ea1o t\xe0i kho\u1ea3n"})})]}),Object(T.jsx)(p.a,{mt:5,children:Object(T.jsx)(L,{})})]})]})})]}),Object(T.jsxs)(v.a,{open:r,maxWidth:"sm",fullWidth:"true",classes:{paper:e.dialogWrapper},children:[Object(T.jsx)(k.a,{className:e.dialogTitle,children:Object(T.jsxs)("div",{style:{display:"flex"},children:[Object(T.jsx)(f.a,{variant:"h6",component:"div",style:{flexGrow:1},children:"\u0110\u0103ng k\xfd"}),Object(T.jsx)(b.a,{color:"primary",onClick:function(){s(!1)},children:Object(T.jsx)(q.a,{})})]})}),Object(T.jsx)(y.a,{children:Object(T.jsxs)("form",{onSubmit:Y,className:e.form,children:[Object(T.jsx)(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username-create",label:"T\xean \u0111\u0103ng nh\u1eadp",name:"username-create",inputProps:{minLength:6},inputRef:P}),Object(T.jsx)(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"fullname",label:"T\xean \u0111\u1ea7y \u0111\u1ee7",name:"fullname",type:"text",inputRef:W}),Object(T.jsxs)(x.a,{container:!0,children:[Object(T.jsx)(x.a,{item:!0,md:6,xs:12,className:"leftSubGrid",children:Object(T.jsx)(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password-create",label:"M\u1eadt kh\u1ea9u",name:"password-create",type:"password",inputProps:{minLength:6},inputRef:V})}),Object(T.jsx)(x.a,{item:!0,md:6,xs:12,className:"rightSubGrid",children:Object(T.jsx)(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password-confirm",label:"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u",name:"password-confirm",type:"password",inputRef:X})})]}),Object(T.jsx)("p",{style:{margin:0,padding:0,color:"red",fontStyle:"italic"},children:F}),Object(T.jsx)(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:e.submit,children:"\u0110\u0103ng k\xfd t\xe0i kho\u1ea3n"})]})})]})]})}n(198);var E=n(154),D=n(286),A=n(127),R=n(114),Q=n(288),M=n(57),U=n(220),B=n(128),H=n(29),K=n(272),P=n(273),W=n.p+"static/media/quiz1.da2c8610.png",V=n.p+"static/media/quiz2.7f3c423f.png",X=n.p+"static/media/quiz3.58f96999.png";function J(){var e=Object(a.useContext)(_.a).user,t=Object(a.useState)(0),n=Object(j.a)(t,2),c=(n[0],n[1],Object(a.useState)([])),r=Object(j.a)(c,2),s=r[0],i=r[1],l=Object(a.useState)(!1),b=Object(j.a)(l,2),d=(b[0],b[1]),h=Object(a.useState)(-1),O=Object(j.a)(h,2),m=O[0],p=O[1],x=Object(a.useState)(""),f=Object(j.a)(x,2),g=f[0],v=f[1],k=Object(a.useState)(!1),y=Object(j.a)(k,2),N=(y[0],y[1],Object(a.useState)("")),q=Object(j.a)(N,2),C=q[0],w=q[1],I=Object(a.useState)(!1),z=Object(j.a)(I,2),L=z[0],G=z[1],F=Object(a.useState)(!1),J=Object(j.a)(F,2),Y=J[0],Z=J[1],$=Object(a.useState)(-1),ee=Object(j.a)($,2),te=ee[0],ne=ee[1],ae=function(){var e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("https://online-quiz-system-server.herokuapp.com/api/quiz/public");case 2:t=e.sent,t=JSON.parse(t.request.response),i(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var t=Object(o.a)(u.a.mark((function t(n,a){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(a),d(!0),-2===n&&Z(!1),c={id:n,pass:a,user_id:e.id},t.next=6,S.a.post("https://online-quiz-system-server.herokuapp.com/api/quiz/join_check",c).then((function(e){p(parseInt(e.data))})).catch((function(e){return 404===e.response.status?(w("M\u1eadt m\xe3 tr\u1eadn kh\xf4ng \u0111\xfang"),void G(!0)):500===e.response.status?(w("\u0110\xe3 x\u1ea3y ra l\u1ed7i. Vui l\xf2ng th\u1eed l\u1ea1i."),void G(!0)):403===e.response.status?(console.log(e.response.data),void(0==e.response.data?(w("B\u1ea1n \u0111\xe3 tham gia quiz n\xe0y!"),G(!0)):re(e.response.data))):void 0}));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){ae()}),[]);var re=function(e){ne(e)};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(E.a,{className:"mt-3 mb-3 quiz-list",children:[Object(T.jsx)("div",{children:Object(T.jsx)("h1",{className:"text-center",children:"Danh s\xe1ch Quiz"})}),Object(T.jsxs)(D.a,{variant:"tabs",defaultActiveKey:"/home",children:[Object(T.jsx)(D.a.Item,{children:Object(T.jsx)(D.a.Link,{active:!0,children:"C\xf4ng khai"})}),Object(T.jsx)(D.a.Item,{children:Object(T.jsx)(D.a.Link,{onClick:function(){return Z(!0)},children:"Ri\xeang t\u01b0"})})]}),Object(T.jsx)(A.a,{className:"mt-2 mb-2",children:s.map((function(t,n){var a="";if(t.quiz_time&&0!=t.quiz_time)if(t.quiz_time>=3600){var c=parseInt(t.quiz_time/3600),r=parseInt((t.quiz_time-3600*c)/60),s=t.quiz_time-3600*c-60*r;a="".concat(c," gi\u1edd"),r>0&&(a+=" ".concat(r," ph\xfat")),s>0&&(a+=" ".concat(s," gi\xe2y"))}else if(t.quiz_time>=60){var i=parseInt(t.quiz_time/60),l=t.quiz_time-60*i;a="".concat(i," ph\xfat"),l>0&&(a+=" ".concat(l," gi\xe2y"))}else a=t.quiz_time.toString()+" gi\xe2y";var u=n%3===0?W:n%3===1?V:X;return Object(T.jsx)(R.a,{className:"quiz-choose-box pl-3 pr-3 pt-2 pb-2",lg:4,sm:6,md:6,xs:12,children:Object(T.jsxs)(Q.a,{style:{width:"auto"},children:[Object(T.jsx)(Q.a.Img,{variant:"top",src:u}),Object(T.jsxs)(Q.a.Body,{children:[Object(T.jsx)(Q.a.Title,{className:"text-center",children:Object(T.jsx)("b",{children:t.quiz_title})}),Object(T.jsxs)(Q.a.Text,{className:"quiz-info",children:["T\u1ea1o b\u1edfi: ",t.fullname," ",Object(T.jsx)("br",{}),"S\u1ed1 c\xe2u h\u1ecfi: ",t.number_of_quests," ",Object(T.jsx)("br",{}),t.quiz_time&&Object(T.jsxs)("p",{children:["Th\u1eddi gian: ",a]}),!t.quiz_time&&Object(T.jsx)("p",{children:"Th\u1eddi gian: theo c\xe2u"})]}),t.quiz_creator!==e.id&&Object(T.jsx)("div",{className:"text-end",children:Object(T.jsxs)(M.a,{variant:"info",className:"text-white btn-rounded",onClick:function(){return ce(t.id,"")},children:[Object(T.jsx)(K.a,{})," Tham gia"]})}),t.quiz_creator===e.id&&Object(T.jsx)("div",{className:"text-end",children:Object(T.jsxs)(M.a,{variant:"warning",className:"text-white btn-rounded",onClick:function(){return re(t.id)},children:[Object(T.jsx)(P.a,{})," Xem k\u1ebft qu\u1ea3"]})})]})]})})}))})]}),-1!==m&&Object(T.jsx)(H.a,{to:{pathname:"/join",state:{id:m,pass:g}}}),-1!==te&&Object(T.jsx)(H.a,{to:{pathname:"/dashboard",state:{id:te}}}),(L||Y)&&Object(T.jsxs)(U.a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:L||Y,children:[Object(T.jsx)(U.a.Header,{children:Object(T.jsxs)("h5",{children:[L&&"L\u1ed7i",Y&&"Nh\u1eadp m\xe3 tr\u1eadn"]})}),Object(T.jsxs)(U.a.Body,{children:[L&&C,Y&&Object(T.jsx)(B.a.Control,{value:g,required:!0,type:"text",className:"mt-2",placeholder:"M\xe3 tr\u1eadn",onChange:function(e){return v(e.target.value)}})]}),Object(T.jsxs)(U.a.Footer,{children:[L&&Object(T.jsx)(M.a,{onClick:function(){return G(!1)},children:"\u0110\xf3ng"}),Y&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(M.a,{variant:"danger",className:"btn-rounded",onClick:function(){return Z(!1)},children:"\u0110\xf3ng"}),Object(T.jsx)(M.a,{variant:"success",className:"btn-rounded",onClick:function(){return ce(-2,g)},children:"X\xe1c nh\u1eadn"})]})]})]})]})}var Y=n(122),Z=(n(208),n(274)),$=n(289),ee=n(82);var te=function(e){var t=Object(a.useContext)(_.a).user,n=Object(a.useState)([]),c=Object(j.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)([]),l=Object(j.a)(i,2),b=l[0],d=l[1],h=Object(a.useState)(1),O=Object(j.a)(h,2),m=O[0],p=O[1],x=Object(a.useState)([]),f=Object(j.a)(x,2),g=f[0],v=f[1],k=Object(a.useState)(20),y=Object(j.a)(k,2),N=y[0],q=y[1],C=Object(a.useState)([]),w=Object(j.a)(C,2),I=w[0],z=w[1],L=Object(a.useState)([]),G=Object(j.a)(L,2),F=G[0],D=G[1],Q=Object(a.useState)("5"),U=Object(j.a)(Q,2),H=U[0],K=U[1],P=Object(a.useState)("desc"),W=Object(j.a)(P,2),V=W[0],X=W[1],J=Object(a.useState)(!1),Y=Object(j.a)(J,2),te=Y[0],ne=Y[1],ae=Object(a.useState)([]),ce=Object(j.a)(ae,2),re=ce[0],se=ce[1],ie=Object(a.useState)([]),le=Object(j.a)(ie,2),ue=le[0],oe=le[1],je=Object(a.useState)(""),be=Object(j.a)(je,2),de=be[0],he=be[1],Oe=function(e){for(var t=e%N===0?parseInt(e/N):parseInt(e/N)+1,n=[],a=1;a<=t;a++)n.push(a);z(n),D([e>0?1:0,Math.min(N,e)])},me=function(e){var t=(e-1)*N+1,n=Math.min(e*N,b.length);p(e),D([t,n]);var a=b.slice(t-1,n);v(a)},pe=function(e,t,n){var a="";switch(t){case 0:a="board_id";break;case 1:a="candidate_name";break;case 2:a="time";break;case 3:a="point";break;case 4:a="correct";break;case 5:a="date_created"}return 5!==t?n?e.sort((function(e,t){return e[a]>t[a]?1:t[a]>e[a]?-1:0})):e.sort((function(e,t){return e[a]<t[a]?1:t[a]<e[a]?-1:0})):n?e.sort((function(e,t){return Date.parse(e.date_created)>Date.parse(t.date_created)?1:Date.parse(t.date_created)>Date.parse(e.date_created)?-1:0})):e.sort((function(e,t){return Date.parse(e.date_created)<Date.parse(t.date_created)?1:Date.parse(t.date_created)<Date.parse(e.date_created)?-1:0})),e},xe=function(e){if(!e)return"";var t="";if(e>=3600){var n=parseInt(e/3600),a=parseInt((e-3600*n)/60),c=e-3600*n-60*a;t="".concat(n," gi\u1edd"),a>0&&(t+=" ".concat(a," ph\xfat")),c>0&&(t+=" ".concat(c," gi\xe2y"))}else if(e>=60){var r=parseInt(e/60),s=e-60*r;t="".concat(r," ph\xfat"),s>0&&(t+=" ".concat(s," gi\xe2y"))}else t=e.toString()+" gi\xe2y";return t};Number.prototype.pad=function(e){for(var t=String(this);t.length<(e||2);)t="0"+t;return t};var fe=function(){var n=Object(o.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S.a.get("https://online-quiz-system-server.herokuapp.com/api/quiz/info/".concat(e.location.state.id)).then(function(){var n=Object(o.a)(u.a.mark((function n(a){var c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=a.data,s(c[0]),n.next=4,S.a.post("https://online-quiz-system-server.herokuapp.com/api/quiz/get_attempts",{quiz_id:e.location.state.id,user_id:t.id}).then((function(e){e.data=pe(e.data,5,!1);for(var t=0;t<e.data.length;t++)Object.assign(e.data[t],{board_id:t+1});d(e.data),Oe(e.data.length);var n=e.data;n=e.data.slice(0,Math.min(N,e.data.length)),v(n)})).catch((function(e){console.log(e)}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),ge=function(){var e=Object(o.a)(u.a.mark((function e(t,n,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("https://online-quiz-system-server.herokuapp.com/api/quiz/attempt_detail",{user_id:t,quiz_id:n}).then((function(e){for(var t=e.data,n=t.slice(0,t.length/2),c=t.slice(t.length/2,t.length),r=0;r<c.length;r++)0===c[r].question_type&&(n[r].answer=parseInt(n[r].answer));he(a),oe(n),se(c)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ve=function(e,t){if(0===e){var n=b;n=pe(n,parseInt(t),"asc"===V),d(n);var a;a=n.slice(0,Math.min(N,n.length)),v(a),K(t)}else{var c=b;c=pe(c,parseInt(H),"asc"===t),d(c);var r;r=c.slice(0,Math.min(N,c.length)),v(r),X(t)}};return Object(a.useEffect)((function(){for(var e=b.length,t=e%N===0?parseInt(e/N):parseInt(e/N)+1,n=[],a=1;a<=t;a++)n.push(a);z(n),D([e>0?1:0,Math.min(N,e)])}),[N]),Object(a.useEffect)((function(){me(1)}),[b]),Object(a.useEffect)((function(){0===r.length&&fe()}),[]),Object(a.useEffect)((function(){0!==ue.length&&0!==re.length&&ue.length===re.length&&ne(!0)}),[ue,re]),Object(T.jsxs)(E.a,{className:"mt-3 mb-3",children:[!te&&0!==r.length&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("h1",{className:"text-center",children:r.quiz_title}),Object(T.jsxs)("h3",{className:"text-center",children:["T\u1ea1o b\u1edfi: ",r.creator]}),Object(T.jsx)("h5",{className:"text-center",children:"B\u1ea3ng k\u1ebft qu\u1ea3"}),Object(T.jsxs)(A.a,{className:"mb-2",children:[Object(T.jsx)(R.a,{lg:3,md:6,sm:12,children:Object(T.jsxs)(B.a.Group,{children:[Object(T.jsx)(B.a.Label,{children:"S\u1eafp x\u1ebfp theo"}),Object(T.jsxs)(B.a.Control,{inline:!0,as:"select",onChange:function(e){return ve(0,e.target.value)},value:H,children:[Object(T.jsx)("option",{value:"0",children:"#"}),Object(T.jsx)("option",{value:"1",children:"T\xean"}),Object(T.jsx)("option",{value:"2",children:"Th\u1eddi gian l\xe0m b\xe0i"}),Object(T.jsx)("option",{value:"3",children:"\u0110i\u1ec3m"}),Object(T.jsx)("option",{value:"4",children:"S\u1ed1 c\xe2u \u0111\xfang"}),Object(T.jsx)("option",{value:"5",children:"D\u1ea5u th\u1eddi gian"})]})]})}),Object(T.jsx)(R.a,{lg:3,md:6,sm:12,children:Object(T.jsxs)(B.a.Group,{children:[Object(T.jsx)(B.a.Label,{style:{opacity:0},children:" a"}),Object(T.jsxs)(B.a.Control,{inline:!0,as:"select",onChange:function(e){return ve(1,e.target.value)},value:V,children:[Object(T.jsx)("option",{value:"asc",children:"T\u0103ng d\u1ea7n"}),Object(T.jsx)("option",{value:"desc",children:"Gi\u1ea3m d\u1ea7n"})]})]})})]}),Object(T.jsxs)(Z.a,{responsive:!0,bordered:!0,striped:!0,hover:!0,variant:"light",children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{className:"text-center",children:"#"}),Object(T.jsx)("th",{className:"text-center",children:"T\xean"}),Object(T.jsx)("th",{className:"text-center",children:"Th\u1eddi gian l\xe0m b\xe0i"}),Object(T.jsx)("th",{className:"text-center",children:"\u0110i\u1ec3m"}),Object(T.jsx)("th",{className:"text-center",children:"S\u1ed1 c\xe2u \u0111\xfang"}),Object(T.jsx)("th",{className:"text-center",children:"D\u1ea5u th\u1eddi gian"}),Object(T.jsx)("th",{className:"text-center",children:"Xem chi ti\u1ebft"})]})}),Object(T.jsx)("tbody",{children:g.map((function(t,n){return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:t.board_id}),Object(T.jsx)("td",{children:t.candidate_name}),Object(T.jsx)("td",{children:xe(t.time)}),Object(T.jsx)("td",{children:t.point}),Object(T.jsx)("td",{children:t.correct}),Object(T.jsx)("td",{children:(a=new Date(t.date_created),"".concat(a.getDate().pad(2),"/").concat((a.getMonth()+1).pad(2),"/").concat(a.getFullYear()," ").concat(a.getHours().pad(2),":").concat(a.getMinutes().pad(2),":").concat(a.getSeconds().pad(2)))}),Object(T.jsx)("td",{className:"text-center",children:Object(T.jsx)(M.a,{variant:"info",className:"btn-sm text-white",onClick:function(){ge(t.user_id,e.location.state.id,t.candidate_name)},children:"Chi ti\u1ebft"})})]},n);var a}))})]}),Object(T.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(T.jsxs)("div",{children:[Object(T.jsxs)("p",{children:["Hi\u1ec3n th\u1ecb k\u1ebft qu\u1ea3 ",F[0]," - ",F[1]," tr\xean t\u1ed5ng s\u1ed1 ",b.length," k\u1ebft qu\u1ea3"]}),Object(T.jsxs)($.a,{children:[1!==m&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)($.a.Item,{onClick:function(){return me(1)},children:"\xab"}),Object(T.jsx)($.a.Item,{onClick:function(){return me(m-1)},children:"\u2039"})]}),1===m&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)($.a.Item,{disabled:!0,children:"\xab"}),Object(T.jsx)($.a.Item,{disabled:!0,children:"\u2039"})]}),I.map((function(e){return e===m?Object(T.jsx)($.a.Item,{onClick:function(){return me(e)},active:!0,activeLabel:"",children:e},e):Object(T.jsx)($.a.Item,{onClick:function(){return me(e)},children:e},e)})),m!==I[I.length-1]&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)($.a.Item,{onClick:function(){return me(m+1)},children:"\u203a"}),Object(T.jsx)($.a.Item,{onClick:function(){return me(I[I.length-1])},children:"\xbb"})]}),m===I[I.length-1]&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)($.a.Item,{disabled:!0,children:"\u203a"}),Object(T.jsx)($.a.Item,{disabled:!0,children:"\xbb"})]})]})]}),Object(T.jsx)("div",{children:Object(T.jsxs)(B.a.Group,{children:[Object(T.jsx)(B.a.Label,{children:"Hi\u1ec3n th\u1ecb / trang"}),Object(T.jsxs)(B.a.Control,{as:"select",onChange:function(e){return q(parseInt(e.target.value))},value:N,children:[Object(T.jsx)("option",{value:"10",children:"10"}),Object(T.jsx)("option",{value:"20",children:"20"}),Object(T.jsx)("option",{value:"30",children:"30"})]})]})})]})]}),te&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(ee.a,{reviewContent:ue,questions:re,quizInfo:r,name:de}),Object(T.jsx)("div",{className:"mt-3 text-center mb-3",children:Object(T.jsx)(M.a,{variant:"success",className:"btn-rounded text-white",onClick:function(){ne(!1),oe([]),se([]),he("")},children:"\u0110\xf3ng"})})]})]})};n(209);var ne=function(e){var t=Object(a.useContext)(_.a).user,n=Object(a.useState)([]),c=Object(j.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)([]),l=Object(j.a)(i,2),b=l[0],d=l[1],h=Object(a.useState)(1),O=Object(j.a)(h,2),m=O[0],p=O[1],x=Object(a.useState)([]),f=Object(j.a)(x,2),g=f[0],v=f[1],k=Object(a.useState)(20),y=Object(j.a)(k,2),N=y[0],q=y[1],C=Object(a.useState)([]),w=Object(j.a)(C,2),I=w[0],z=w[1],L=Object(a.useState)([]),G=Object(j.a)(L,2),F=G[0],D=G[1],Q=Object(a.useState)("5"),U=Object(j.a)(Q,2),H=U[0],K=U[1],P=Object(a.useState)("desc"),W=Object(j.a)(P,2),V=W[0],X=W[1],J=Object(a.useState)(!1),Y=Object(j.a)(J,2),te=Y[0],ne=Y[1],ae=Object(a.useState)([]),ce=Object(j.a)(ae,2),re=ce[0],se=ce[1],ie=Object(a.useState)([]),le=Object(j.a)(ie,2),ue=le[0],oe=le[1],je=Object(a.useState)(""),be=Object(j.a)(je,2),de=(be[0],be[1]),he=function(e){for(var t=e%N===0?parseInt(e/N):parseInt(e/N)+1,n=[],a=1;a<=t;a++)n.push(a);z(n),D([e>0?1:0,Math.min(N,e)])},Oe=function(e){var t=(e-1)*N+1,n=Math.min(e*N,b.length);p(e),D([t,n]);var a=b.slice(t-1,n);v(a)},me=function(e,t,n){var a="";switch(t){case 0:a="board_id";break;case 1:a="quiz_name";break;case 2:a="time";break;case 3:a="point";break;case 4:a="correct";break;case 5:a="date_created"}return 5!==t?n?e.sort((function(e,t){return e[a]>t[a]?1:t[a]>e[a]?-1:0})):e.sort((function(e,t){return e[a]<t[a]?1:t[a]<e[a]?-1:0})):n?e.sort((function(e,t){return Date.parse(e.date_created)>Date.parse(t.date_created)?1:Date.parse(t.date_created)>Date.parse(e.date_created)?-1:0})):e.sort((function(e,t){return Date.parse(e.date_created)<Date.parse(t.date_created)?1:Date.parse(t.date_created)<Date.parse(e.date_created)?-1:0})),e},pe=function(e){if(!e)return"";var t="";if(e>=3600){var n=parseInt(e/3600),a=parseInt((e-3600*n)/60),c=e-3600*n-60*a;t="".concat(n," gi\u1edd"),a>0&&(t+=" ".concat(a," ph\xfat")),c>0&&(t+=" ".concat(c," gi\xe2y"))}else if(e>=60){var r=parseInt(e/60),s=e-60*r;t="".concat(r," ph\xfat"),s>0&&(t+=" ".concat(s," gi\xe2y"))}else t=e.toString()+" gi\xe2y";return t};Number.prototype.pad=function(e){for(var t=String(this);t.length<(e||2);)t="0"+t;return t};var xe=function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("https://online-quiz-system-server.herokuapp.com/api/quiz/my_attempts",{user_id:t.id}).then((function(e){e.data=me(e.data,5,!1);for(var t=0;t<e.data.length;t++)Object.assign(e.data[t],{board_id:t+1});d(e.data),he(e.data.length);var n=e.data;n=e.data.slice(0,Math.min(N,e.data.length)),v(n)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=Object(o.a)(u.a.mark((function e(t,n,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("https://online-quiz-system-server.herokuapp.com/api/quiz/attempt_detail",{user_id:t,quiz_id:n}).then(function(){var e=Object(o.a)(u.a.mark((function e(t){var c,r,i,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c=t.data,r=c.slice(0,c.length/2),i=c.slice(c.length/2,c.length),l=0;l<i.length;l++)0===i[l].question_type&&(r[l].answer=parseInt(r[l].answer));return de(a),oe(r),se(i),e.next=9,S.a.get("https://online-quiz-system-server.herokuapp.com/api/quiz/info/".concat(n)).then(function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.data,s(n[0]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ge=function(e,t){if(0===e){var n=b;n=me(n,parseInt(t),"asc"===V),d(n),K(t)}else{var a=b;a=me(a,parseInt(H),"asc"===t),d(a),X(t)}};return Object(a.useEffect)((function(){for(var e=b.length,t=e%N===0?parseInt(e/N):parseInt(e/N)+1,n=[],a=1;a<=t;a++)n.push(a);z(n),D([e>0?1:0,Math.min(N,e)])}),[N]),Object(a.useEffect)((function(){Oe(1)}),[b]),Object(a.useEffect)((function(){0===r.length&&xe()}),[]),Object(a.useEffect)((function(){0!==ue.length&&0!==re.length&&ue.length===re.length&&0!==r.length&&ne(!0)}),[ue,re,r]),Object(T.jsxs)(E.a,{className:"mt-3 mb-3",children:[!te&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("h2",{className:"text-center",children:"K\u1ebft qu\u1ea3 c\xe1 nh\xe2n"}),Object(T.jsxs)(A.a,{className:"mb-2",children:[Object(T.jsx)(R.a,{lg:3,md:6,sm:12,children:Object(T.jsxs)(B.a.Group,{children:[Object(T.jsx)(B.a.Label,{children:"S\u1eafp x\u1ebfp theo"}),Object(T.jsxs)(B.a.Control,{inline:!0,as:"select",onChange:function(e){return ge(0,e.target.value)},value:H,children:[Object(T.jsx)("option",{value:"0",children:"#"}),Object(T.jsx)("option",{value:"1",children:"Quiz"}),Object(T.jsx)("option",{value:"2",children:"Th\u1eddi gian l\xe0m b\xe0i"}),Object(T.jsx)("option",{value:"3",children:"\u0110i\u1ec3m"}),Object(T.jsx)("option",{value:"4",children:"S\u1ed1 c\xe2u \u0111\xfang"}),Object(T.jsx)("option",{value:"5",children:"D\u1ea5u th\u1eddi gian"})]})]})}),Object(T.jsx)(R.a,{lg:3,md:6,sm:12,children:Object(T.jsxs)(B.a.Group,{children:[Object(T.jsx)(B.a.Label,{style:{opacity:0},children:" a"}),Object(T.jsxs)(B.a.Control,{inline:!0,as:"select",onChange:function(e){return ge(1,e.target.value)},value:V,children:[Object(T.jsx)("option",{value:"asc",children:"T\u0103ng d\u1ea7n"}),Object(T.jsx)("option",{value:"desc",children:"Gi\u1ea3m d\u1ea7n"})]})]})})]}),Object(T.jsxs)(Z.a,{responsive:!0,bordered:!0,striped:!0,hover:!0,variant:"light",children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{className:"text-center",children:"#"}),Object(T.jsx)("th",{className:"text-center",children:"Quiz"}),Object(T.jsx)("th",{className:"text-center",children:"Th\u1eddi gian l\xe0m b\xe0i"}),Object(T.jsx)("th",{className:"text-center",children:"\u0110i\u1ec3m"}),Object(T.jsx)("th",{className:"text-center",children:"S\u1ed1 c\xe2u \u0111\xfang"}),Object(T.jsx)("th",{className:"text-center",children:"D\u1ea5u th\u1eddi gian"}),Object(T.jsx)("th",{className:"text-center",children:"Xem chi ti\u1ebft"})]})}),Object(T.jsx)("tbody",{children:g.map((function(e,t){return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:e.board_id}),Object(T.jsx)("td",{children:e.quiz_name}),Object(T.jsx)("td",{children:pe(e.time)}),Object(T.jsx)("td",{children:e.point}),Object(T.jsx)("td",{children:e.correct}),Object(T.jsx)("td",{children:(n=new Date(e.date_created),"".concat(n.getDate().pad(2),"/").concat((n.getMonth()+1).pad(2),"/").concat(n.getFullYear()," ").concat(n.getHours().pad(2),":").concat(n.getMinutes().pad(2),":").concat(n.getSeconds().pad(2)))}),Object(T.jsx)("td",{className:"text-center",children:Object(T.jsx)(M.a,{variant:"info",className:"btn-sm text-white",onClick:function(){fe(e.user_id,e.quiz_id,e.candidate_name)},children:"Chi ti\u1ebft"})})]},t);var n}))})]}),Object(T.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(T.jsxs)("div",{children:[Object(T.jsxs)("p",{children:["Hi\u1ec3n th\u1ecb k\u1ebft qu\u1ea3 ",F[0]," - ",F[1]," tr\xean t\u1ed5ng s\u1ed1 ",b.length," k\u1ebft qu\u1ea3"]}),Object(T.jsxs)($.a,{children:[1!==m&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)($.a.Item,{onClick:function(){return Oe(1)},children:"\xab"}),Object(T.jsx)($.a.Item,{onClick:function(){return Oe(m-1)},children:"\u2039"})]}),1===m&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)($.a.Item,{disabled:!0,children:"\xab"}),Object(T.jsx)($.a.Item,{disabled:!0,children:"\u2039"})]}),I.map((function(e){return e===m?Object(T.jsx)($.a.Item,{onClick:function(){return Oe(e)},active:!0,activeLabel:"",children:e},e):Object(T.jsx)($.a.Item,{onClick:function(){return Oe(e)},children:e},e)})),m!==I[I.length-1]&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)($.a.Item,{onClick:function(){return Oe(m+1)},children:"\u203a"}),Object(T.jsx)($.a.Item,{onClick:function(){return Oe(I[I.length-1])},children:"\xbb"})]}),m===I[I.length-1]&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)($.a.Item,{disabled:!0,children:"\u203a"}),Object(T.jsx)($.a.Item,{disabled:!0,children:"\xbb"})]})]})]}),Object(T.jsx)("div",{children:Object(T.jsxs)(B.a.Group,{children:[Object(T.jsx)(B.a.Label,{children:"Hi\u1ec3n th\u1ecb / trang"}),Object(T.jsxs)(B.a.Control,{as:"select",onChange:function(e){return q(parseInt(e.target.value))},value:N,children:[Object(T.jsx)("option",{value:"10",children:"10"}),Object(T.jsx)("option",{value:"20",children:"20"}),Object(T.jsx)("option",{value:"30",children:"30"})]})]})})]})]}),te&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(ee.a,{reviewContent:ue,questions:re,quizInfo:r}),Object(T.jsx)("div",{className:"mt-3 text-center mb-3",children:Object(T.jsx)(M.a,{variant:"info",className:"text-white",onClick:function(){ne(!1),oe([]),se([])},children:"\u0110\xf3ng"})})]})]})},ae=n(285),ce=n(281),re=(n(210),n(275)),se=n(276),ie=n(277);var le=function(){var e=Object(a.useContext)(_.a).user;return Object(T.jsx)(T.Fragment,{children:"/join"!==window.location.pathname&&Object(T.jsx)(ae.a,{bg:"dark",expand:"lg",variant:"dark",children:Object(T.jsxs)(E.a,{children:[Object(T.jsx)(ae.a.Brand,{href:"./home",children:Object(T.jsx)("img",{src:I,width:"40",height:"40",className:"d-inline-block align-top",alt:"NCN Quiz"})}),Object(T.jsx)(ae.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(T.jsx)(ae.a.Collapse,{id:"basic-navbar-nav",children:Object(T.jsx)(D.a,{className:"ms-auto",children:Object(T.jsxs)(ce.a,{title:e.fullname,id:"basic-nav-dropdown",children:[Object(T.jsxs)(ce.a.Item,{href:"/attempts",children:[Object(T.jsx)(re.a,{})," L\u1ecbch s\u1eed"]}),1===e.role&&Object(T.jsxs)(ce.a.Item,{href:"/create",children:[Object(T.jsx)(se.a,{})," T\u1ea1o quiz"]}),Object(T.jsx)(ce.a.Divider,{}),Object(T.jsxs)(ce.a.Item,{href:"#",onClick:function(){return localStorage.setItem("auth_state",JSON.stringify({user:null,isFetching:!1,error:!1})),void window.location.reload()},children:[Object(T.jsx)(ie.a,{})," \u0110\u0103ng xu\u1ea5t"]})]})})})]})})})},ue=n(151),oe=n(34),je=(n(212),n(213),n(278)),be=n(279),de=n(227),he=n(126);he.a.initializeApp({apiKey:"AIzaSyAHKZmrsppTSsoTjBUFavB73Xcyvcr_FoI",authDomain:"online-quiz-system-59fe8.firebaseapp.com",projectId:"online-quiz-system-59fe8",storageBucket:"online-quiz-system-59fe8.appspot.com",messagingSenderId:"1055838775",appId:"1:1055838775:web:821208523ecaba463965b2"});var Oe=he.a.storage();var me=function(e){var t=Object(a.useState)(""),n=Object(j.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(0),l=Object(j.a)(s,2),b=l[0],d=l[1],h=Object(a.useState)(0),O=Object(j.a)(h,2),p=O[0],x=O[1],f=Object(a.useState)(""),g=Object(j.a)(f,2),v=g[0],k=g[1],y=Object(a.useState)([]),N=Object(j.a)(y,2),q=N[0],C=N[1],S=Object(a.useState)([]),w=Object(j.a)(S,2),_=w[0],I=w[1],z=Object(a.useState)([]),L=Object(j.a)(z,2),G=L[0],F=L[1],E=Object(a.useState)([]),D=Object(j.a)(E,2),Q=D[0],H=D[1],K=Object(a.useState)(""),P=Object(j.a)(K,2),W=P[0],V=P[1],X=Object(a.useState)(""),J=Object(j.a)(X,2),Y=J[0],Z=J[1],$=Object(a.useState)(null),ee=Object(j.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(""),ce=Object(j.a)(ae,2),re=ce[0],se=ce[1],ie=Object(a.useState)(""),le=Object(j.a)(ie,2),ue=le[0],he=le[1],me=Object(a.useState)(""),pe=Object(j.a)(me,2),xe=pe[0],fe=pe[1],ge=Object(a.useRef)(),ve=Object(a.useRef)();Object(a.useEffect)((function(){ge.current=[],ve.current=""}),[]);var ke=function(){for(var e=0,t=0;t<G.length;t++)G[t]&&e++;te&&e++;var n=0;""!==ve.current&&te&&n++;for(var a=0;a<ge.current.length;a++)""!==ge.current[a]&&n++;n===e&&e>0&&Se()},ye=function(e){d(e),H([]),V(""),1===e?(x(1),k(""),I([!0]),C([""]),F([""]),ge.current=[""]):(x(0),I([]),C([]),F([]),ge.current=[])},Ne=function(e,t){for(var n=[],a=0;a<q.length;a++)a===e?n.push(t):n.push(q[a]);C(n),V(t)},qe=function(){var t=Object(o.a)(u.a.mark((function t(n){var a,r,s,i,l,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""!==c){t.next=4;break}return fe("Vui l\xf2ng nh\u1eadp n\u1ed9i dung c\xe2u h\u1ecfi."),t.abrupt("return");case 4:if(0!==b){t.next=18;break}if(_.includes(!0)){t.next=8;break}return fe("Vui l\xf2ng ch\u1ecdn 1 \u0111\xe1p \xe1n \u0111\xfang."),t.abrupt("return");case 8:a=0;case 9:if(!(a<q.length)){t.next=16;break}if(""!==q[a]||G[a]){t.next=13;break}return fe("Ph\u01b0\u01a1ng \xe1n kh\xf4ng h\u1ee3p l\u1ec7."),t.abrupt("return");case 13:a++,t.next=9;break;case 16:t.next=22;break;case 18:if(1!==b){t.next=22;break}if(0!==Q.length){t.next=22;break}return fe("Vui l\xf2ng nh\u1eadp \xedt nh\u1ea5t 1 \u0111\xe1p \xe1n cho c\xe2u h\u1ecfi."),t.abrupt("return");case 22:if(e.useQuizTime||!isNaN(parseInt(re))){t.next=27;break}return fe("Th\u1eddi gian tr\u1ea3 l\u1eddi kh\xf4ng h\u1ee3p l\u1ec7."),t.abrupt("return");case 27:if(!isNaN(parseInt(ue))){t.next=30;break}return fe("\u0110i\u1ec3m s\u1ed1 c\xe2u kh\xf4ng h\u1ee3p l\u1ec7."),t.abrupt("return");case 30:for(r=0,s=0;s<G.length;s++)G[s]&&r++;if(te&&r++,0!==r)for(te&&(i=te.name+"-"+Date.now(),Oe.ref("questions_images/".concat(i)).put(te).on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){Oe.ref("questions_images/").child("".concat(i)).getDownloadURL().then((function(e){ve.current=e,ke()}),(function(e){console.log(e)}))}))),l=function(e){if(G[e]){var t=G[e].name+"-"+Date.now();Oe.ref("questions_images/".concat(t)).put(G[e]).on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){Oe.ref("questions_images/").child("".concat(t)).getDownloadURL().then((function(t){Ce(e,t)}),(function(e){console.log(e)}))}))}},o=0;o<G.length;o++)l(o);else Se();case 34:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ce=function(e,t){var n=ge.current;n[e]=t,ge.current=n,ke()},Se=function(){var t={};if(t.question=c,t.questionType=b,t.numberOfChoices=p,t.keyCorrects=_,t.explain=Y,t.time=""===re?0:parseInt(re),t.point=ue,t.image=ve.current,t.keyImages=ge.current,0===b)t.keys=q;else{t.keys=[""];for(var n=0;n<Q.length-1;n++)t.keys[0]+=Q[n]+"~|";t.keys[0]+=Q[Q.length-1]}fe(""),r(""),d(0),k(""),x(0),C([]),I([]),Z(""),ne(null),se(""),he(""),ge.current=[],ve.current="",F([]),H([]),V(""),e.onAddQuestionSubmit(t)};return Object(T.jsxs)(U.a,Object(i.a)(Object(i.a)({size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},e),{},{children:[Object(T.jsx)(U.a.Header,{children:Object(T.jsxs)(U.a.Title,{id:"contained-modal-title-vcenter",children:["Th\xeam c\xe2u h\u1ecfi (c\xe2u ",e.numberOfQuest+1,")"]})}),Object(T.jsx)(U.a.Body,{children:Object(T.jsx)(A.a,{children:Object(T.jsxs)(R.a,{md:10,sm:12,className:"offset-md-1 offset-sm-0",children:[Object(T.jsxs)(B.a,{id:"questionAddForm",onSubmit:qe,children:[Object(T.jsxs)(B.a.Group,{className:"",children:[Object(T.jsx)(B.a.Label,{children:"C\xe2u h\u1ecfi"}),Object(T.jsx)(B.a.Control,{as:"textarea",required:!0,validate:"Quiz name is not valid!",onChange:function(e){return r(e.target.value)}})]}),Object(T.jsx)(B.a.Group,{className:"",children:Object(T.jsx)("fieldset",{children:Object(T.jsxs)(B.a.Group,{as:A.a,className:"mb-3",children:[Object(T.jsx)(B.a.Label,{as:"legend",column:!0,sm:2,children:"Lo\u1ea1i:"}),Object(T.jsxs)(R.a,{sm:12,children:[Object(T.jsx)(B.a.Check,{type:"radio",label:"Tr\u1eafc nghi\u1ec7m",name:"question-type",checked:0===b,onChange:function(){return ye(0)}}),Object(T.jsx)(B.a.Check,{type:"radio",label:"Tr\u1ea3 l\u1eddi ng\u1eafn",name:"question-type",checked:1===b,onChange:function(){return ye(1)}})]})]})})}),0===b&&Object(T.jsxs)(B.a.Group,{className:"",children:[Object(T.jsx)(B.a.Label,{children:"S\u1ed1 ph\u01b0\u01a1ng \xe1n"}),Object(T.jsx)(B.a.Control,{type:"number",validate:"Ph\u1ea3i l\xe0 gi\xe1 tr\u1ecb t\u1eeb 2 \u0111\u1ebfn 5",min:2,max:5,onChange:function(e){return function(e){if(e<2||e>5)k("S\u1ed1 l\u01b0\u1ee3ng ph\u01b0\u01a1ng \xe1n ph\u1ea3i t\u1eeb 2 \u0111\u1ebfn 5.");else{x(e),k("");for(var t=[],n=[],a=[],c=[],r=0;r<e;r++)t.push(""),n.push(!1),a.push(null),c.push("");I(n),C(t),F(a),ge.current=c}}(e.target.value)}}),Object(T.jsx)("p",{className:"error",children:v})]}),""===v&&0===b&&Object(oe.a)(Array(parseInt(p))).map((function(e,t){var n="question-".concat(p,"-answer"),a="file-".concat(t);return Object(T.jsxs)(B.a.Group,{className:"mt-2",children:[Object(T.jsxs)(B.a.Label,{children:["Ph\u01b0\u01a1ng \xe1n ",t+1,Object(T.jsx)(B.a.Check,{type:"radio",label:"\u0110\xfang",name:n,onChange:function(){return function(e){for(var t=[],n=0;n<_.length;n++)t.push(!1);var a=t[e];t[e]=!a,I(t)}(t)}})]}),Object(T.jsx)(B.a.Control,{type:"text",validate:"Kh\xf4ng h\u1ee3p l\u1ec7!",minLength:1,onChange:function(e){return Ne(t,e.target.value)}}),Object(T.jsxs)(B.a.Group,{className:"mb-3 mt-3",children:[Object(T.jsx)(B.a.Label,{children:"\u1ea2nh ph\u01b0\u01a1ng \xe1n (n\u1ebfu c\xf3)"}),Object(T.jsx)("br",{}),Object(T.jsxs)("label",{htmlFor:a,className:"shareOption",style:{cursor:"pointer"},children:[Object(T.jsx)(je.a,{htmlColor:"green",className:"shareIcon"}),Object(T.jsx)(B.a.Control,{style:{display:"none"},type:"file",id:a,accept:".png, .jpeg, .jpg",size:"sm",onChange:function(e){return function(e,t){for(var n=[],a=0;a<G.length;a++)a===e?n.push(t):n.push(G[a]);F(n)}(t,e.target.files[0])}})]})]}),G[t]&&Object(T.jsxs)("div",{className:"keyImgContainer",children:[Object(T.jsx)("img",{className:"shareImg",src:URL.createObjectURL(G[t]),alt:""}),Object(T.jsx)(be.a,{className:"shareCancelImg",onClick:function(){return function(e){var t=Object(oe.a)(G);t[e]=null,F(t)}(t)}})]})]})}))||1===b&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(B.a.Group,{className:"",children:[Object(T.jsx)(B.a.Label,{children:"\u0110\xe1p \xe1n"}),Object(T.jsx)(B.a.Control,{type:"text",validate:"\u0110\xe1p \xe1n kh\xf4ng h\u1ee3p l\u1ec7!",minLength:1,value:W,onChange:function(e){return Ne(0,e.target.value)},onKeyPress:function(e){return function(e){"Enter"===e.key&&(e.preventDefault(),H([].concat(Object(oe.a)(Q),[e.target.value])),V(""))}(e)}})]}),Q.length>0&&Object(T.jsx)(m.a,{component:"ul",children:Q.map((function(e,t){return Object(T.jsx)("li",{children:Object(T.jsx)(de.a,{label:e,onDelete:function(){return function(e){var t=Object(oe.a)(Q);t.splice(e,1),H(t)}(t)}})},t)}))})]}),Object(T.jsxs)(B.a.Group,{className:"mt-2",children:[Object(T.jsx)(B.a.Label,{children:"Gi\u1ea3i th\xedch (n\u1ebfu c\xf3)"}),Object(T.jsx)(B.a.Control,{as:"textarea",validate:"Kh\xf4ng h\u1ee3p l\u1ec7!",onChange:function(e){return Z(e.target.value)}})]}),Object(T.jsxs)(B.a.Group,{className:"mt-2",children:[Object(T.jsx)(B.a.Label,{children:"\u0110i\u1ec3m s\u1ed1"}),Object(T.jsx)(B.a.Control,{type:"number",min:0,validate:"Kh\xf4ng h\u1ee3p l\u1ec7!",onChange:function(e){return he(e.target.value)}})]}),!e.useQuizTime&&Object(T.jsxs)(B.a.Group,{className:"mb-3 mt-3",children:[Object(T.jsx)(B.a.Label,{children:"Th\u1eddi gian tr\u1ea3 l\u1eddi (gi\xe2y): "}),Object(T.jsx)("br",{}),Object(T.jsx)(B.a.Control,{type:"number",min:1,onChange:function(e){return se(e.target.value)}})]}),Object(T.jsxs)(B.a.Group,{className:"mb-3 mt-3",children:[Object(T.jsx)(B.a.Label,{children:"\u1ea2nh c\xe2u h\u1ecfi (n\u1ebfu c\xf3)"}),Object(T.jsx)("br",{}),Object(T.jsxs)("label",{htmlFor:"file",className:"shareOption",style:{cursor:"pointer"},children:[Object(T.jsx)(je.a,{htmlColor:"green",className:"shareIcon"}),Object(T.jsx)(B.a.Control,{style:{display:"none"},type:"file",id:"file",accept:".png, .jpeg, .jpg",size:"sm",onChange:function(e){return ne(e.target.files[0])}})]})]})]}),te&&Object(T.jsxs)("div",{className:"shareImgContainer",children:[Object(T.jsx)("img",{className:"shareImg",src:URL.createObjectURL(te),alt:""}),Object(T.jsx)(be.a,{className:"shareCancelImg",onClick:function(){return ne(null)}})]})]})})}),Object(T.jsxs)(U.a.Footer,{children:[Object(T.jsx)("p",{className:"error",children:xe}),Object(T.jsx)(M.a,{variant:"success",type:"submit",form:"questionAddForm",children:"Th\xeam"})]})]}))};n(217);var pe=function(e){var t=Object(a.useState)(""),n=Object(j.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(0),l=Object(j.a)(s,2),b=l[0],d=l[1],h=Object(a.useState)(0),O=Object(j.a)(h,2),p=O[0],x=O[1],f=Object(a.useState)(""),g=Object(j.a)(f,2),v=g[0],k=g[1],y=Object(a.useState)([]),N=Object(j.a)(y,2),q=N[0],C=N[1],S=Object(a.useState)([]),w=Object(j.a)(S,2),_=w[0],I=w[1],z=Object(a.useState)([]),L=Object(j.a)(z,2),G=L[0],F=L[1],E=Object(a.useState)([]),D=Object(j.a)(E,2),Q=D[0],H=D[1],K=Object(a.useState)([]),P=Object(j.a)(K,2),W=P[0],V=P[1],X=Object(a.useState)(""),J=Object(j.a)(X,2),Y=J[0],Z=J[1],$=Object(a.useState)(""),ee=Object(j.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(null),ce=Object(j.a)(ae,2),re=ce[0],se=ce[1],ie=Object(a.useState)(""),le=Object(j.a)(ie,2),ue=le[0],he=le[1],me=Object(a.useState)(""),pe=Object(j.a)(me,2),xe=pe[0],fe=pe[1],ge=Object(a.useState)(""),ve=Object(j.a)(ge,2),ke=ve[0],ye=ve[1],Ne=Object(a.useState)(""),qe=Object(j.a)(Ne,2),Ce=qe[0],Se=qe[1],we=Object(a.useRef)(),_e=Object(a.useRef)(),Ie=Object(a.useState)(!1),ze=Object(j.a)(Ie,2),Te=(ze[0],ze[1],function(){for(var e=0,t=0;t<G.length;t++)G[t]&&e++;re&&e++;var n=0;""!==_e.current&&re&&n++;for(var a=0;a<we.current.length;a++)""!==we.current[a]&&n++;n===e&&e>0&&Ae()}),Le=function(e){d(e),1===e?(x(1),k(""),I([!0]),C([""]),F([""]),H([""]),we.current=[""]):(x(0),I([]),C([]),F([]),H([]),we.current=[])},Ge=function(e,t){Z(t)},Fe=function(e){var t=Object(oe.a)(G);t[e]=null;var n=Object(oe.a)(Q);n[e]="",F(t),H(n)},Ee=function(){var t=Object(o.a)(u.a.mark((function t(n){var a,r,s,i,l,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""!==c){t.next=4;break}return Se("Vui l\xf2ng nh\u1eadp n\u1ed9i dung c\xe2u h\u1ecfi."),t.abrupt("return");case 4:if(0!==b){t.next=18;break}if(_.includes(!0)){t.next=8;break}return Se("Vui l\xf2ng ch\u1ecdn 1 \u0111\xe1p \xe1n \u0111\xfang."),t.abrupt("return");case 8:a=0;case 9:if(!(a<q.length)){t.next=16;break}if(""!==q[a]||G[a]){t.next=13;break}return Se("Ph\u01b0\u01a1ng \xe1n kh\xf4ng h\u1ee3p l\u1ec7."),t.abrupt("return");case 13:a++,t.next=9;break;case 16:t.next=22;break;case 18:if(1!==b){t.next=22;break}if(0!==W.length){t.next=22;break}return Se("Vui l\xf2ng nh\u1eadp \xedt nh\u1ea5t 1 \u0111\xe1p \xe1n cho c\xe2u h\u1ecfi."),t.abrupt("return");case 22:if(e.useQuizTime||!isNaN(parseInt(xe))){t.next=27;break}return Se("Th\u1eddi gian tr\u1ea3 l\u1eddi kh\xf4ng h\u1ee3p l\u1ec7."),t.abrupt("return");case 27:if(!isNaN(parseInt(ke))){t.next=30;break}return Se("\u0110i\u1ec3m s\u1ed1 c\xe2u kh\xf4ng h\u1ee3p l\u1ec7."),t.abrupt("return");case 30:for(r=0,s=0;s<G.length;s++)G[s]&&r++;if(re&&r++,0!=r)for(re&&(i=re.name+"-"+Date.now(),Oe.ref("questions_images/".concat(i)).put(re).on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){Oe.ref("questions_images/").child("".concat(i)).getDownloadURL().then((function(e){_e.current=e,Te()}),(function(e){console.log(e)}))}))),l=function(e){if(G[e]){var t=G[e].name+"-"+Date.now();Oe.ref("questions_images/".concat(t)).put(G[e]).on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){Oe.ref("questions_images/").child("".concat(t)).getDownloadURL().then((function(t){De(e,t)}),(function(e){console.log(e)}))}))}},o=0;o<G.length;o++)l(o);else Ae();case 34:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),De=function(e,t){var n=we.current;n[e]=t,we.current=n,Te()},Ae=function(){var t={};if(t.question=c,t.questionType=b,t.numberOfChoices=p,t.keyCorrects=_,t.explain=te,t.time=""===xe?0:parseInt(xe),t.point=ke,t.image=_e.current,t.keyImages=we.current,t.questIndex=e.questionEditGet.questIndex,0===b)t.keys=q;else{t.keys=[""];for(var n=0;n<W.length-1;n++)t.keys[0]+=W[n]+"~|";t.keys[0]+=W[W.length-1]}Se(""),r(""),d(0),k(""),x(0),C([]),I([]),ne(""),se(null),fe(""),ye(""),we.current=[],_e.current="",F([]),H([]),V([]),Z(""),e.onEditQuestionSubmit(t)};return Object(a.useEffect)((function(){if(e.questionEditGet){r(e.questionEditGet.question),d(e.questionEditGet.questionType),x(e.questionEditGet.keys.length),C(e.questionEditGet.keys),I(e.questionEditGet.keyCorrects),fe(e.questionEditGet.time),ne(e.questionEditGet.explain),he(e.questionEditGet.image),we.current=[],_e.current="",ye(e.questionEditGet.point),H(e.questionEditGet.keyImages),Z(""),1===e.questionEditGet.questionType&&V(e.questionEditGet.keys[0].split("~|"));for(var t=[],n=0;n<e.questionEditGet.keys.length;n++)t.push(null);F(t)}}),[e.show]),Object(T.jsxs)(U.a,Object(i.a)(Object(i.a)({size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},e),{},{children:[Object(T.jsx)(U.a.Header,{children:Object(T.jsxs)(U.a.Title,{id:"contained-modal-title-vcenter",children:["S\u1eeda c\xe2u h\u1ecfi (c\xe2u ",e.questionEditGet?e.questionEditGet.questIndex+1:"",")"]})}),Object(T.jsx)(U.a.Body,{children:Object(T.jsx)(A.a,{children:Object(T.jsxs)(R.a,{md:10,sm:12,className:"offset-md-1 offset-sm-0",children:[Object(T.jsxs)(B.a,{id:"questionAddForm",onSubmit:Ee,children:[Object(T.jsxs)(B.a.Group,{className:"",children:[Object(T.jsx)(B.a.Label,{children:"C\xe2u h\u1ecfi"}),Object(T.jsx)(B.a.Control,{as:"textarea",required:!0,validate:"Quiz name is not valid!",value:c,onChange:function(e){return r(e.target.value)}})]}),Object(T.jsx)(B.a.Group,{className:"",children:Object(T.jsx)("fieldset",{children:Object(T.jsxs)(B.a.Group,{as:A.a,className:"mb-3",children:[Object(T.jsx)(B.a.Label,{as:"legend",column:!0,sm:2,children:"Lo\u1ea1i:"}),Object(T.jsxs)(R.a,{sm:12,children:[Object(T.jsx)(B.a.Check,{type:"radio",label:"Tr\u1eafc nghi\u1ec7m",name:"question-type",checked:0===b,onChange:function(){return Le(0)}}),Object(T.jsx)(B.a.Check,{type:"radio",label:"Tr\u1ea3 l\u1eddi ng\u1eafn",name:"question-type",checked:1===b,onChange:function(){return Le(1)}})]})]})})}),0===b&&Object(T.jsxs)(B.a.Group,{className:"",children:[Object(T.jsx)(B.a.Label,{children:"S\u1ed1 ph\u01b0\u01a1ng \xe1n"}),Object(T.jsx)(B.a.Control,{type:"number",validate:"Ph\u1ea3i l\xe0 gi\xe1 tr\u1ecb t\u1eeb 2 \u0111\u1ebfn 5",min:2,max:5,value:p,onChange:function(e){return function(e){if(e<2||e>5)k("S\u1ed1 l\u01b0\u1ee3ng ph\u01b0\u01a1ng \xe1n ph\u1ea3i t\u1eeb 2 \u0111\u1ebfn 5.");else{x(e),k("");for(var t=[],n=[],a=[],c=[],r=0;r<e;r++)t.push(""),n.push(!1),a.push(null),c.push("");I(n),C(t),F(a),H(c),we.current=c}}(e.target.value)}}),Object(T.jsx)("p",{className:"error",children:v})]}),""===v&&0===b&&Object(oe.a)(Array(parseInt(p))).map((function(e,t){var n="question-".concat(p,"-answer"),a="file-".concat(t);return Object(T.jsxs)(B.a.Group,{className:"mt-2",children:[Object(T.jsxs)(B.a.Label,{children:["Ph\u01b0\u01a1ng \xe1n ",t+1,Object(T.jsx)(B.a.Check,{type:"radio",label:"\u0110\xfang",name:n,checked:_[t],onChange:function(){return function(e){for(var t=[],n=0;n<_.length;n++)t.push(!1);var a=t[e];t[e]=!a,I(t)}(t)}})]}),Object(T.jsx)(B.a.Control,{type:"text",validate:"Kh\xf4ng h\u1ee3p l\u1ec7!",minLength:1,value:q[t],onChange:function(e){return Ge(0,e.target.value)}}),Object(T.jsxs)(B.a.Group,{className:"mb-3 mt-3",children:[Object(T.jsx)(B.a.Label,{children:"\u1ea2nh ph\u01b0\u01a1ng \xe1n (n\u1ebfu c\xf3)"}),Object(T.jsx)("br",{}),Object(T.jsxs)("label",{htmlFor:a,className:"shareOption",style:{cursor:"pointer"},children:[Object(T.jsx)(je.a,{htmlColor:"green",className:"shareIcon"}),Object(T.jsx)(B.a.Control,{style:{display:"none"},type:"file",id:a,accept:".png, .jpeg, .jpg",size:"sm",onChange:function(e){return function(e,t){for(var n=[],a=0;a<G.length;a++)a===e?n.push(t):n.push(G[a]);F(n)}(t,e.target.files[0])}})]})]}),G[t]&&Object(T.jsxs)("div",{className:"keyImgContainer",children:[Object(T.jsx)("img",{className:"shareImg",src:G[t]&&URL.createObjectURL(G[t]),alt:""}),Object(T.jsx)(be.a,{className:"shareCancelImg",onClick:function(){return Fe(t)}})]}),!G[t]&&Q[t]&&""!==Q[t]&&Object(T.jsxs)("div",{className:"keyImgContainer",children:[Object(T.jsx)("img",{className:"shareImg",src:Q[t],alt:""}),Object(T.jsx)(be.a,{className:"shareCancelImg",onClick:function(){return Fe(t)}})]})]})}))||1===b&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(B.a.Group,{className:"",children:[Object(T.jsx)(B.a.Label,{children:"\u0110\xe1p \xe1n"}),Object(T.jsx)(B.a.Control,{type:"text",validate:"\u0110\xe1p \xe1n kh\xf4ng h\u1ee3p l\u1ec7!",minLength:1,value:Y,onChange:function(e){return Ge(0,e.target.value)},onKeyPress:function(e){return function(e){"Enter"==e.key&&(e.preventDefault(),V([].concat(Object(oe.a)(W),[e.target.value])),Z(""))}(e)}})]}),W.length>0&&Object(T.jsx)(m.a,{component:"ul",children:W.map((function(e,t){return Object(T.jsx)("li",{children:Object(T.jsx)(de.a,{label:e,onDelete:function(){return function(e){var t=Object(oe.a)(W);t.splice(e,1),V(t)}(t)}})},t)}))})]}),Object(T.jsxs)(B.a.Group,{className:"mt-2",children:[Object(T.jsx)(B.a.Label,{children:"Gi\u1ea3i th\xedch (n\u1ebfu c\xf3)"}),Object(T.jsx)(B.a.Control,{as:"textarea",validate:"Kh\xf4ng h\u1ee3p l\u1ec7!",value:te,onChange:function(e){return ne(e.target.value)}})]}),Object(T.jsxs)(B.a.Group,{className:"mt-2",children:[Object(T.jsx)(B.a.Label,{children:"\u0110i\u1ec3m s\u1ed1"}),Object(T.jsx)(B.a.Control,{validate:"Kh\xf4ng h\u1ee3p l\u1ec7!",value:ke,type:"number",min:0,onChange:function(e){return ye(e.target.value)}})]}),!e.useQuizTime&&Object(T.jsxs)(B.a.Group,{className:"mb-3 mt-3",children:[Object(T.jsx)(B.a.Label,{children:"Th\u1eddi gian tr\u1ea3 l\u1eddi (gi\xe2y): "}),Object(T.jsx)("br",{}),Object(T.jsx)(B.a.Control,{type:"number",min:1,value:xe,onChange:function(e){return fe(e.target.value)}})]}),Object(T.jsxs)(B.a.Group,{className:"mb-3 mt-3",children:[Object(T.jsx)(B.a.Label,{children:"\u1ea2nh (n\u1ebfu c\xf3)"}),Object(T.jsx)("br",{}),Object(T.jsxs)("label",{htmlFor:"file",className:"shareOption",style:{cursor:"pointer"},children:[Object(T.jsx)(je.a,{htmlColor:"green",className:"shareIcon"}),Object(T.jsx)(B.a.Control,{style:{display:"none"},type:"file",id:"file",accept:".png, .jpeg, .jpg",size:"sm",onChange:function(e){return se(e.target.files[0])}})]})]})]}),re&&Object(T.jsxs)("div",{className:"shareImgContainer",children:[Object(T.jsx)("img",{className:"shareImg",src:re&&URL.createObjectURL(re),alt:""}),Object(T.jsx)(be.a,{className:"shareCancelImg",onClick:function(){se(null),he("")}})]})||!re&&""!==ue&&Object(T.jsxs)("div",{className:"shareImgContainer",children:[Object(T.jsx)("img",{className:"shareImg",src:ue,alt:""}),Object(T.jsx)(be.a,{className:"shareCancelImg",onClick:function(){se(null),he("")}})]})]})})}),Object(T.jsxs)(U.a.Footer,{children:[Object(T.jsx)("p",{className:"error",children:Ce}),Object(T.jsx)(M.a,{variant:"warning",type:"submit",form:"questionAddForm",children:"S\u1eeda"})]})]}))},xe=n(280),fe=["questIndex"];function ge(){var e=Object(a.useContext)(_.a).user,t=Object(a.useState)(""),n=Object(j.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),i=Object(j.a)(s,2),l=i[0],b=i[1],d=Object(a.useState)(0),h=Object(j.a)(d,2),O=h[0],p=h[1],x=Object(a.useState)(""),f=Object(j.a)(x,2),g=f[0],v=f[1],k=Object(a.useState)(0),y=Object(j.a)(k,2),N=y[0],q=y[1],C=Object(a.useState)(!1),w=Object(j.a)(C,2),I=w[0],z=w[1],L=Object(a.useState)([]),G=Object(j.a)(L,2),F=G[0],D=G[1],Q=Object(a.useState)(!1),K=Object(j.a)(Q,2),P=K[0],W=K[1],V=Object(a.useState)(!1),X=Object(j.a)(V,2),J=X[0],Y=X[1],Z=Object(a.useState)(""),$=Object(j.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)(0),ae=Object(j.a)(ne,2),ce=ae[0],re=ae[1],se=Object(a.useState)(!1),ie=Object(j.a)(se,2),le=ie[0],je=ie[1],be=Object(a.useState)(null),he=Object(j.a)(be,2),Oe=he[0],ge=he[1],ve=Object(a.useState)(!1),ke=Object(j.a)(ve,2),ye=ke[0],Ne=ke[1],qe=Object(a.useState)(!1),Ce=Object(j.a)(qe,2),Se=Ce[0],we=Ce[1],_e=Object(a.useState)(""),Ie=Object(j.a)(_e,2),ze=Ie[0],Te=Ie[1],Le=Object(a.useState)(!1),Ge=Object(j.a)(Le,2),Fe=Ge[0],Ee=Ge[1],De=function(e){p(e)};Object(a.useEffect)((function(){q(F.length)}),[F]),Object(a.useEffect)(Object(o.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.post("https://online-quiz-system-server.herokuapp.com/api/auth/check-admin",e).then((function(e){})).catch((function(e){Ee(!0)}));case 2:case"end":return t.stop()}}),t)}))),[]);Object(a.useEffect)((function(){je(!0)}),[Oe]),Object(a.useEffect)((function(){console.log(F)}),[F]);var Ae=function(){var t=Object(o.a)(u.a.mark((function t(){var n,a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n={quiz_title:c,quiz_mode:O,quiz_creator:e.id,raw_order:ye},a=Object(oe.a)(F),r=0;r<a.length;r++)a[r].questIndex=r;""!==l&&(n.quiz_code=l),I&&(n.quiz_time=0==ce?60*g:g),n.questions=a,S.a.post("https://online-quiz-system-server.herokuapp.com/api/quiz/create",n).then((function(e){Ee(!0)})).catch((function(e){403===e.response.status?(Te("M\xe3 tr\u1eadn \u0111\xe3 t\u1ed3n t\u1ea1i. Vui l\xf2ng s\u1eed d\u1ee5ng m\xe3 kh\xe1c"),we(!0)):500===e.response.status&&(Te("\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra. Vui l\xf2ng th\u1eed l\u1ea1i sau"),we(!0))}));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(T.jsxs)("div",{children:[Object(T.jsxs)(E.a,{className:"p-4",children:[Object(T.jsx)("h2",{className:"text-center",children:"T\u1ea1o Quiz"}),Object(T.jsx)(A.a,{children:Object(T.jsxs)(R.a,{md:8,sm:12,className:"offset-md-2 offset-sm-0",children:[Object(T.jsx)(B.a,{id:"quizDetailForm",children:Object(T.jsxs)("fieldset",{disabled:J?"disabled":"",children:[Object(T.jsxs)(B.a.Group,{className:"mb-2",controlId:"formBasicEmail",children:[Object(T.jsx)(B.a.Label,{children:"Ti\xeau \u0111\u1ec1"}),Object(T.jsx)(B.a.Control,{type:"text",required:!0,validate:"Quiz name is not valid!",onChange:function(e){return r(e.target.value)}})]}),Object(T.jsx)("fieldset",{children:Object(T.jsxs)(B.a.Group,{as:A.a,className:"mb-2",children:[Object(T.jsx)(B.a.Label,{as:"legend",column:!0,sm:12,children:"Ch\u1ebf \u0111\u1ed9:"}),Object(T.jsxs)(R.a,{sm:12,children:[Object(T.jsx)(B.a.Check,{type:"radio",label:"C\xf4ng khai",name:"quiz-mode",checked:0===O,onChange:function(){return De(0)}}),Object(T.jsx)(B.a.Check,{type:"radio",label:"Ri\xeang t\u01b0",name:"quiz-mode",checked:1===O,onChange:function(){return De(1)}})]})]})}),Object(T.jsxs)(B.a.Group,{className:"mb-2",controlId:"formBasicEmail",children:[Object(T.jsx)(B.a.Label,{children:"M\u1eadt kh\u1ea9u"}),Object(T.jsx)(B.a.Control,{type:"text",validate:"Quiz password is not valid!",minLength:6,maxLength:10,disabled:0===O&&"disabled",onChange:function(e){return b(e.target.value)}})]}),Object(T.jsxs)(B.a.Group,{className:"mb-2",controlId:"formBasicEmail",children:[Object(T.jsx)(B.a.Check,{label:"Th\u1eddi gian",onChange:function(){return z(!I)}}),Object(T.jsx)(B.a.Text,{muted:!0,children:"L\u1ef1a ch\u1ecdn v\xe0 nh\u1eadp th\u1eddi gian l\xe0m b\xe0i cho to\xe0n b\u1ed9 quiz ho\u1eb7c kh\xf4ng l\u1ef1a ch\u1ecdn v\xe0 \u0111\u1eb7t th\u1eddi gian ri\xeang l\u1ebb cho t\u1eebng c\xe2u h\u1ecfi."}),Object(T.jsxs)(A.a,{children:[Object(T.jsx)(R.a,{sm:9,children:Object(T.jsx)(B.a.Control,{type:"number",min:1,validate:"Quiz password is not valid!",disabled:!I&&"disabled",onChange:function(e){v(e.target.value)}})}),Object(T.jsxs)(R.a,{sm:3,className:"d-flex align-items-center",children:[Object(T.jsx)(B.a.Check,{type:"radio",inline:!0,label:"ph\xfat",name:"time-mode",disabled:!I&&"disabled",checked:I&&0===ce,onChange:function(){return re(0)}}),Object(T.jsx)(B.a.Check,{type:"radio",inline:!0,label:"gi\xe2y",name:"time-mode",disabled:!I&&"disabled",checked:I&&1===ce,onChange:function(){return re(1)}})]})]})]}),Object(T.jsxs)(B.a.Group,{children:[Object(T.jsx)(B.a.Check,{label:"Gi\u1eef th\u1ee9 t\u1ef1 c\xe2u h\u1ecfi",checked:ye,onChange:function(){return Ne(!ye)}}),Object(T.jsx)(B.a.Text,{muted:!0,children:"N\u1ebfu kh\xf4ng ch\u1ecdn, c\xe2u h\u1ecfi s\u1ebd \u0111\u01b0\u1ee3c s\u1eafp x\u1ebfp ng\u1eabu nhi\xean."})]}),!J&&Object(T.jsxs)("div",{className:"text-center mt-3",children:[Object(T.jsx)("p",{className:"error",children:ee}),Object(T.jsx)(M.a,{className:"btn-rounded",variant:"success",onClick:function(){""!==c?1!==O||""!==l?I&&isNaN(parseInt(g))?te("Th\u1eddi gian quiz kh\xf4ng h\u1ee3p l\u1ec7."):Y(!0):te("Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u Quiz."):te("Vui l\xf2ng nh\u1eadp ti\xeau \u0111\u1ec1 Quiz.")},children:"X\xe1c nh\u1eadn th\xf4ng tin Quiz"})]})]})}),J&&Object(T.jsxs)(A.a,{className:"mt-2",children:[Object(T.jsx)("h4",{className:"text-center",children:"C\xe2u h\u1ecfi"}),Object(T.jsx)("div",{className:"text-center",children:Object(T.jsx)(M.a,{className:"btn-rounded",variant:"info",style:{paddingLeft:15,paddingRight:15},onClick:function(){return W(!0)},children:Object(T.jsx)(xe.a,{fontSize:"small",style:{color:"white"}})})}),Object(T.jsxs)("p",{className:"mt-2 text-center",children:["S\u1ed1 l\u01b0\u1ee3ng c\xe2u h\u1ecfi: ",N]}),F.map((function(e,t){return Object(T.jsxs)("div",{className:"mt-2 mb-2 questionBox",children:[Object(T.jsxs)("p",{className:"quest-title",children:[Object(T.jsxs)("b",{children:["C\xe2u ",t+1,": "]}),e.question]}),0!==e.time&&Object(T.jsxs)("p",{className:"quest-title",children:["Th\u1eddi gian: ",e.time," gi\xe2y"]}),Object(T.jsxs)("p",{className:"quest-title",children:["\u0110i\u1ec3m s\u1ed1: ",e.point]}),""!==e.image&&Object(T.jsx)("img",{className:"question-image",alt:"",src:e.image}),Object(T.jsxs)("div",{className:"quest-content",children:[1===e.questionType&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("p",{className:"mb-1",children:"\u0110\xe1p \xe1n:"}),Object(T.jsx)(m.a,{component:"ul",children:e.keys[0].split("~|").map((function(e,t){return Object(T.jsx)("li",{children:Object(T.jsx)(de.a,{label:e})},t)}))})]}),0===e.questionType&&e.keys.map((function(t,n){return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("p",{className:e.keyCorrects[n]?"correct-key":"incorrect-key",children:["Ph\u01b0\u01a1ng \xe1n ",n+1,": ",t]}),e.keyImages[n]&&""!==e.keyImages[n]&&Object(T.jsx)("div",{className:"text-center",children:Object(T.jsx)("img",{className:"key-image",alt:"",src:e.keyImages[n]})})]})})),""!==e.explain&&Object(T.jsxs)("p",{children:["Gi\u1ea3i th\xedch: ",e.explain]})]}),Object(T.jsx)(M.a,{className:"btn-rounded mt-1",style:{marginRight:"3px"},variant:"danger",onClick:function(){return function(e){for(var t=[],n=0;n<e;n++)t.push(F[n]);for(var a=e+1;a<F.length;a++)t.push(F[a]);D(t)}(t)},children:"Xo\xe1"}),Object(T.jsx)(M.a,{className:"btn-rounded mt-1 ml-1",variant:"warning",onClick:function(){return function(e){console.log(e);var t=F[e];console.log(t),t.questIndex=e,ge(t)}(t)},children:"Ch\u1ec9nh s\u1eeda"})]},e.question)}))]}),J&&Object(T.jsx)("div",{className:"text-center",children:Object(T.jsx)(M.a,{className:"btn-rounded",variant:"success",onClick:function(){return Ae()},children:"X\xe1c nh\u1eadn"})})]})})]}),Object(T.jsx)(me,{show:P,onHide:function(){return W(!1)},numberOfQuest:N,onAddQuestionSubmit:function(e){D([].concat(Object(oe.a)(F),[e])),W(!1)},useQuizTime:I}),Oe&&Object(T.jsx)(pe,{show:le,onHide:function(){return je(!1)},onEditQuestionSubmit:function(e){var t=Object(oe.a)(F),n=(e.questIndex,Object(ue.a)(e,fe));t[e.questIndex]=n,D(t),je(!1)},useQuizTime:I,questionEditGet:Oe}),Se&&Object(T.jsxs)(U.a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:Se,children:[Object(T.jsx)(U.a.Header,{children:"L\u1ed7i"}),Object(T.jsx)(U.a.Body,{children:ze}),Object(T.jsx)(U.a.Footer,{children:Object(T.jsx)(M.a,{onClick:function(){return we(!1)},children:"\u0110\xf3ng"})})]}),Fe&&Object(T.jsx)(H.a,{to:"/home"})]})}n(218);var ve=n(73);var ke=function(){var e=Object(a.useContext)(_.a).user;return Object(a.useEffect)((function(){switch(window.location.pathname){case"/":document.title="Online Quiz System";break;case"/home":document.title="Online Quiz System | Home";break;case"/attempts":document.title="Online Quiz System | My Records";break;case"/join":document.title="Online Quiz System | Quiz";break;case"/create":document.title="Online Quiz System | Create";break;case"/dashboard":document.title="Online Quiz System | Quiz Records"}}),[window.location.pathname]),Object(T.jsx)("div",{children:Object(T.jsx)(ve.a,{children:Object(T.jsxs)(H.d,{children:[Object(T.jsx)(H.b,{exact:!0,path:"/",children:e?Object(T.jsx)(H.a,{to:"/home"}):Object(T.jsx)(F,{})}),e&&Object(T.jsx)(H.b,{exact:!0,path:"/join",render:function(e){return Object(T.jsx)(Y.a,Object(i.a)({},e))}}),!e&&Object(T.jsx)(H.b,{exact:!0,path:"/join",children:Object(T.jsx)(H.a,{to:"/"})}),Object(T.jsxs)("div",{children:["/join"!==window.location.pathname&&e&&Object(T.jsx)(le,{}),Object(T.jsx)(H.b,{exact:!0,path:"/home",children:e?Object(T.jsx)(J,{}):Object(T.jsx)(H.a,{to:"/"})}),Object(T.jsx)(H.b,{exact:!0,path:"/create",children:e&&1===e.role?Object(T.jsx)(ge,{}):Object(T.jsx)(H.a,{to:"/"})}),e&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(H.b,{exact:!0,path:"/join",render:function(e){return Object(T.jsx)(Y.a,Object(i.a)({},e))}}),Object(T.jsx)(H.b,{exact:!0,path:"/dashboard",render:function(e){return Object(T.jsx)(te,Object(i.a)({},e))}}),Object(T.jsx)(H.b,{exact:!0,path:"/attempts",render:function(e){return Object(T.jsx)(ne,Object(i.a)({},e))}})]}),!e&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(H.b,{exact:!0,path:"/join",children:Object(T.jsx)(H.a,{to:"/"})}),Object(T.jsx)(H.b,{exact:!0,path:"/dashboard",children:Object(T.jsx)(H.a,{to:"/"})}),Object(T.jsx)(H.b,{exact:!0,path:"/attempts",children:Object(T.jsx)(H.a,{to:"/"})})]})]})]})})})};n(219);s.a.render(Object(T.jsx)(_.b,{children:Object(T.jsx)(ke,{})}),document.getElementById("root"))},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(5),c=n(0),r=function(e,t){switch(t.type){case"LOGIN_START":return{user:null,isFetching:!0,error:!1};case"LOGIN_SUCCESS":return{user:t.payload,isFetching:!1,error:!1};case"LOGIN_FAILURE":return{user:null,isFetching:!1,error:t.payload};default:return e}},s=n(1),i={user:null,isFetching:!1,error:!1},l=Object(c.createContext)(i),u=function(e){var t=e.children,n=Object(c.useReducer)(r,[],(function(){var e=localStorage.getItem("auth_state");return e?JSON.parse(e):[]})),i=Object(a.a)(n,2),u=i[0],o=i[1];return Object(c.useEffect)((function(){localStorage.setItem("auth_state",JSON.stringify(u))}),[u]),Object(s.jsx)(l.Provider,{value:{user:u.user,isFetching:u.isFetching,error:u.error,dispatch:o},children:t})}},82:function(e,t,n){"use strict";(function(e){var a=n(5),c=(n(207),n(0)),r=n(154),s=n(128),i=n(127),l=n(114),u=n(224),o=n(227),j=n(1);t.a=function(t){var n=Object(c.useState)([]),b=Object(a.a)(n,2),d=b[0],h=b[1],O=Object(c.useState)([]),m=Object(a.a)(O,2),p=m[0],x=m[1],f=Object(c.useState)([]),g=Object(a.a)(f,2),v=g[0],k=g[1],y=Object(c.useState)(!1),N=Object(a.a)(y,2),q=N[0],C=N[1];return Object(c.useEffect)((function(){h(t.reviewContent),x(t.questions),k(t.quizInfo)}),[]),Object(c.useEffect)((function(){p.length>0&&C(!0)}),[d]),Object(j.jsx)(j.Fragment,{children:q&&Object(j.jsxs)(r.a,{className:"mt-3 mb-3",children:[Object(j.jsx)("h2",{className:"text-center",children:v.quiz_title}),Object(j.jsxs)("p",{className:"text-center m-1",children:["T\u1ea1o b\u1edfi: ",v.creator]}),t.name&&Object(j.jsx)("h5",{className:"text-center",children:t.name}),p.map((function(t,n){return Object(j.jsxs)("div",{class:"mt-3 mb-3 question-review-box",children:[Object(j.jsxs)("h5",{style:{color:d[n].point===t.question_point?"green":"red"},children:["C\xe2u ",n+1," - ",d[n].point,"/",t.question_point]}),Object(j.jsx)("div",{className:"question-box d-flex justify-content-center align-items-center",children:Object(j.jsx)("h5",{className:"txt-quest",children:t.question_content})}),""!=t.media&&Object(j.jsx)("div",{className:"text-center mt-2",children:Object(j.jsx)("img",{className:"img-quest",src:t.media})}),1==t.question_type&&Object(j.jsxs)("div",{children:[Object(j.jsx)(s.a.Control,{value:d[n].answer,disabled:"true",type:"text",className:"mt-2",placeholder:"C\xe2u tr\u1ea3 l\u1eddi"}),Object(j.jsxs)("div",{className:"text-center mt-1",children:[Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h5",{children:"\u0110\xe1p \xe1n:"}),Object(j.jsx)(u.a,{component:"ul",className:"paper",children:e(t.answers[0].answer_content,"base64").toString("utf-8").split("~|").map((function(e,t){return Object(j.jsx)("li",{children:Object(j.jsx)(o.a,{label:e})},t)}))})]}),Object(j.jsxs)("p",{style:{fontStyle:"italic"},children:["Gi\u1ea3i th\xedch: ",e(t.explanation,"base64").toString("utf-8")]})]})]}),0==t.question_type&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(i.a,{className:"mt-2",children:t.answers.map((function(t,a){var c="";return c=t.id!==d[n].answer?1===t.is_correct?"answer-content text-center correct":"answer-content text-center":1===t.is_correct?"answer-content text-center correct":"answer-content text-center wrong",Object(j.jsx)(l.a,{lg:6,md:6,sm:12,className:"p-1 answer",children:Object(j.jsxs)("div",{className:c,children:[""!=t.media&&Object(j.jsx)("div",{children:Object(j.jsx)("img",{className:"img-answer",src:t.media})}),Object(j.jsx)("p",{className:"mt-1 mb-0",children:e(t.answer_content,"base64").toString("utf-8")})]})})}))}),Object(j.jsxs)("p",{style:{fontStyle:"italic"},className:"text-center",children:["Gi\u1ea3i th\xedch: ",e(t.explanation,"base64").toString("utf-8")]})]})]},n)}))]})})}}).call(this,n(142).Buffer)}},[[221,1,2]]]);
//# sourceMappingURL=main.7da46c69.chunk.js.map